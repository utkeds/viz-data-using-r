<!DOCTYPE html>
<html lang="en"><head>
<script src="slides_fall24_files/libs/clipboard/clipboard.min.js"></script>
<script src="slides_fall24_files/libs/quarto-html/tabby.min.js"></script>
<script src="slides_fall24_files/libs/quarto-html/popper.min.js"></script>
<script src="slides_fall24_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="slides_fall24_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="slides_fall24_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="slides_fall24_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="slides_fall24_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Dr.&nbsp;Kelly Boles">
  <title>Week 12 - STEM 691</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="slides_fall24_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="slides_fall24_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #000000; background-color: #f8f8f8; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #000000; } /* Normal */
    code span.al { color: #ef2929; } /* Alert */
    code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #c4a000; } /* Attribute */
    code span.bn { color: #0000cf; } /* BaseN */
    code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4e9a06; } /* Char */
    code span.cn { color: #000000; } /* Constant */
    code span.co { color: #8f5902; font-style: italic; } /* Comment */
    code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
    code span.dt { color: #204a87; } /* DataType */
    code span.dv { color: #0000cf; } /* DecVal */
    code span.er { color: #a40000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #0000cf; } /* Float */
    code span.fu { color: #000000; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
    code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
    code span.ot { color: #8f5902; } /* Other */
    code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
    code span.sc { color: #000000; } /* SpecialChar */
    code span.ss { color: #4e9a06; } /* SpecialString */
    code span.st { color: #4e9a06; } /* String */
    code span.va { color: #000000; } /* Variable */
    code span.vs { color: #4e9a06; } /* VerbatimString */
    code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="slides_fall24_files/libs/revealjs/dist/theme/quarto.css">
  <link href="slides_fall24_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="slides_fall24_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="slides_fall24_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="slides_fall24_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="#4B4B4B" data-background-image="UnitShortcut.png" data-background-position="50% 9%" data-background-size="50%" class="quarto-title-block center">
  <h1 class="title">Week 12 - STEM 691</h1>
  <p class="subtitle">Maps with {sf} and {ggplot}</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Dr.&nbsp;Kelly Boles 
</div>
</div>
</div>

</section>
<section id="weekly-check-in-download-.zip" class="title-slide slide level1 center">
<h1>Weekly Check In/ <br>Download <code>.zip</code></h1>

</section>

<section>
<section id="start-recording" class="title-slide slide level1 center">
<h1>Start Recording</h1>

</section>
<section id="todays-agenda" class="slide level2">
<h2>Today’s Agenda</h2>
<hr>
<div class="smaller-font">
<ul>
<li>Weekly Check In <!-- - Polygon maps (`geom_polygon()`) --></li>
<li>Vector spatial data and simple features (<code>geom_sf()</code>)</li>
<li>Finding geometries: tigris and <code>st_read()</code></li>
<li>Creating choropleth maps</li>
<li>Layering geoms</li>
<li>Collaborative Practice</li>
<li>Looking Ahead</li>
</ul>
</div>
</section>
<section id="norms" class="slide level2">
<h2>Norms</h2>
<hr>
<div class="compact-font">
<table>
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>In person norms</th>
<th>And also, for online learning…</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Be fully present to each other &amp; the work.</td>
<td>Keep your video on when possible. In large groups, mute your microphone when not talking. Close/mute/minimize other apps and devices to avoid distraction.</td>
</tr>
<tr class="even">
<td>Assume positive intent &amp; also take responsibility for the impact you have.</td>
<td>Remember online interaction masks even more of the full story. Notice when you are making assumptions, and seek information to check them.</td>
</tr>
<tr class="odd">
<td>Embrace collaboration.</td>
<td>Use the gallery view so you can see everyone. Use breakout groups as an opportunity to collaborate.</td>
</tr>
<tr class="even">
<td>Be open to learning and accept non-closure.</td>
<td>Expect the inevitable technical glitches and learning curves. Exercise patience with one another.</td>
</tr>
<tr class="odd">
<td>Be aware of when to step up and step back. When stepping back, do so as an active listener.</td>
<td>Try out different modes of participation. Step back by making space for others to engage in these.</td>
</tr>
<tr class="even">
<td>Land your plane–get to the point you intended.</td>
<td>We all know how hard it is to be talked at, especially in a Zoom session, so let’s keep it to a minimum.</td>
</tr>
</tbody>
</table>
</div>
<!-- # Mapping with ggplot2 -->
</section>
<section id="making-maps" class="slide level2">
<h2>Making maps</h2>
<hr>
<p>Map making — the art of cartography — is an ancient skill involving communication, attention to detail, and an element of creativity.</p>

<img data-src="early-world-map.jpg" style="width:60.0%" class="r-stretch quarto-figure-center"></section>
<section id="visualizing-data-with-maps" class="slide level2">
<h2>Visualizing data with maps</h2>
<hr>
<p>In addition to being fun and creative, cartography also has important practical applications. A carefully crafted map can be the best way of visualizing data.</p>

<img data-src="airbnb-occupancy-eclipse.png" style="width:60.0%" class="r-stretch quarto-figure-center"></section>
<section id="visualizing-data-with-maps-1" class="slide level2">
<h2>Visualizing data with maps</h2>
<hr>

<!-- # Polygon maps -->
<!-- ## The {maps} package -->
<!-- <hr> -->
<!-- The {maps} package contains many outlines of continents, countries, states, and counties. It's not very accurate or up-to-date, but is built into R. -->
<!-- To install {maps}, run the following: -->
<!-- ```{r} -->
<!-- #| eval: false -->
<!-- install.packages("maps") -->
<!-- library(maps) -->
<!-- ``` -->
<!-- ## Long/lat data with {maps} -->
<!-- <hr> -->
<!-- The {maps} package can access geographic longitude/latitude data with `map_data()`. -->
<!-- ```{r} -->
<!-- library(ggplot2) -->
<!-- library(dplyr) -->
<!-- nc_counties <- map_data("county", "north carolina")  -->
<!-- head(nc_counties) -->
<!-- ``` -->
<!-- ## The {maps} package{.smaller} -->
<!-- <hr> -->
<!-- - `long` is longitude. Things to the west of the prime meridian are negative. -->
<!-- - `lat` is latitude. -->
<!-- - `region` and `subregion` tell what region or subregion a set of points surrounds. -->
<!-- - `group` controls (among other things) whether adjacent points should be connected by lines. If they are in the same group, then they get connected, but if they are in different groups then they don’t. -->
<!--     - Having points in different groups means that ggplot "lifts the pen" when going between them. -->
<!-- ```{r} -->
<!-- head(nc_counties) -->
<!-- ``` -->
<!-- ## Plotting long/lat with geom_point(){.smaller} -->
<!-- <hr> -->
<!-- We can plot long/lat coordinates with `geom_point()`. -->
<!-- - `coord_quickmap()` adjusts the axes to ensure that longitude and latitude are rendered on the same scale -->
<!-- ```{r} -->
<!-- ggplot(nc_counties, aes(long, lat)) +  -->
<!--   geom_point(size = .25, show.legend = FALSE) + -->
<!--   coord_quickmap() -->
<!-- ``` -->
<!-- ## geom_polygon() -->
<!-- <hr> -->
<!-- `geom_polygon()` "connects" the dots. -->
<!-- ```{r} -->
<!-- ggplot(nc_counties, aes(long, lat, group = group)) + -->
<!--   geom_polygon(fill = "white", colour = "grey50") +  -->
<!--   coord_quickmap() -->
<!-- ``` -->
<!-- ## Danger of long/lat data -->
<!-- <hr> -->
<!-- ::: {.callout-warning} -->
<!-- However, “longitude-latitude” data format is not the primary file type used in real world mapping. -->
<!-- ::: -->
<img data-src="heatmap_2x.png" style="width:60.0%" class="r-stretch quarto-figure-center"></section></section>
<section>
<section id="vector-spatial-data-and-simple-features-sf" class="title-slide slide level1 center">
<h1>Vector spatial data and simple features {sf}</h1>

</section>
<section id="vector-spatial-data" class="slide level2">
<h2>Vector spatial data</h2>
<hr>
<ul>
<li><em>Vector spatial data</em> is a spatial data model that represents geographic features as points, lines, and polygons</li>
<li>Typically, these are encoded with the simple features (sf) encoding</li>
</ul>
</section>
<section id="the-sf-package" class="slide level2">
<h2>The {sf} package</h2>
<hr>
<ul>
<li>We can use the {sf} package to work with vector spatial data</li>
<li>Install the package by running:</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">install.packages</span>(<span class="st">"sf"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><a href="https://github.com/rstudio/cheatsheets/blob/main/sf.pdf">{sf} cheat sheet</a></li>
</ul>
</section>
<section id="the-sf-package-1" class="slide level2 smaller">
<h2>The {sf} package</h2>
<hr>
<ul>
<li>The {sf} package uses the class of simple feature (<code>sf</code>) for vector spatial data in R</li>
<li>{sf} represents vector spatial data much like a regular R data frame, but with a special column, <code>geometry</code>, that represents the shape of each feature</li>
<li>An important benefit is its compatibility with the tidyverse packages</li>
</ul>
</section>
<section id="inspecting-objects-of-class-sf" class="slide level2">
<h2>Inspecting objects of class sf</h2>
<hr>
<p>The {sf} package provides a simple way of storing geographic information and the attributes of the geographic units in a single dataset.</p>
<p>In the example below, <code>nc</code> is of the class sf:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb2-2"><a href="#cb2-2"></a>nc_sf <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="fu">system.file</span>(<span class="st">"shape/nc.shp"</span>, <span class="at">package=</span><span class="st">"sf"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `nc' from data source 
  `/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library/sf/shape/nc.shp' 
  using driver `ESRI Shapefile'
Simple feature collection with 100 features and 14 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -84.32385 ymin: 33.88199 xmax: -75.45698 ymax: 36.58965
Geodetic CRS:  NAD27</code></pre>
</div>
</div>
</section>
<section id="inspecting-objects-of-class-sf-1" class="slide level2">
<h2>Inspecting objects of class sf</h2>
<hr>
<p>Inspecting the object reveals its <code>sf</code> class:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">class</span>(nc_sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "sf"         "data.frame"</code></pre>
</div>
</div>
</section>
<section id="the-sf-package-2" class="slide level2 smaller">
<h2>The {sf} package</h2>
<hr>
<ul>
<li>sf objects has variable <code>geometry</code> at the end, where each row represents a single simple feature geographic unit (sfg; in this case, county)</li>
<li>There are different types of sfgs (<code>POINT</code>, <code>LINESTRING</code>, <code>POLYGON</code>, <code>MULTIPOLYGON</code>, etc)</li>
</ul>
<div class="r-stack">
<p><img data-src="Geometry_Primitives_Wikipedia.png" class="fragment" width="600" height="300"></p>
<p><img data-src="Multipart_Geometries_Wikipedia.png" class="fragment" width="600" height="300"></p>
</div>

<aside><div>
<p>Graphics Source: <a href="https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry">Wikipedia</a></p>
</div></aside></section>
<section id="the-sf-package-3" class="slide level2 smaller">
<h2>The {sf} package</h2>
<hr>
<ul>
<li>An sf object is essentially a dataframe with geometric information stored as a variable (column)</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>nc_sf <span class="sc">|&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 100 features and 5 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -84.32385 ymin: 33.88199 xmax: -75.45698 ymax: 36.58965
Geodetic CRS:  NAD27
First 10 features:
    AREA PERIMETER CNTY_        NAME  FIPS                       geometry
1  0.114     1.442  1825        Ashe 37009 MULTIPOLYGON (((-81.47276 3...
2  0.061     1.231  1827   Alleghany 37005 MULTIPOLYGON (((-81.23989 3...
3  0.143     1.630  1828       Surry 37171 MULTIPOLYGON (((-80.45634 3...
4  0.070     2.968  1831   Currituck 37053 MULTIPOLYGON (((-76.00897 3...
5  0.153     2.206  1832 Northampton 37131 MULTIPOLYGON (((-77.21767 3...
6  0.097     1.670  1833    Hertford 37091 MULTIPOLYGON (((-76.74506 3...
7  0.062     1.547  1834      Camden 37029 MULTIPOLYGON (((-76.00897 3...
8  0.091     1.284  1835       Gates 37073 MULTIPOLYGON (((-76.56251 3...
9  0.118     1.421  1836      Warren 37185 MULTIPOLYGON (((-78.30876 3...
10 0.124     1.428  1837      Stokes 37169 MULTIPOLYGON (((-80.02567 3...</code></pre>
</div>
</div>
<ul>
<li>NC has 100 counties</li>
</ul>
</section>
<section id="geom_sf" class="slide level2">
<h2><code>geom_sf()</code></h2>
<hr>
<ul>
<li><code>geom_sf()</code> allows for visualizing sf objects
<ul>
<li>It is a {ggplot} geom, so it can be used in the same way as other geoms</li>
</ul></li>
<li>Conveniently, <code>geom_sf()</code> automatically detects the geometry type of spatial objects stored in sf and draw maps accordingly</li>
</ul>
</section>
<section id="geom_sf-1" class="slide level2">
<h2><code>geom_sf()</code></h2>
<hr>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">ggplot</span>(nc_sf) <span class="sc">+</span> </span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="fu">geom_sf</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_fall24_files/figure-revealjs/unnamed-chunk-7-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="geom_sf-2" class="slide level2">
<h2><code>geom_sf()</code></h2>
<hr>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">ggplot</span>(nc_sf) <span class="sc">+</span> </span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="fu">geom_sf</span>() <span class="sc">+</span> </span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="fu">theme_void</span>() <span class="co">#removes bg, grids, axes, etc.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_fall24_files/figure-revealjs/unnamed-chunk-8-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="specifying-the-aesthetics" class="slide level2 smaller">
<h2>Specifying the aesthetics</h2>
<hr>
<p>Since it is a ggplot2 object, we can define aesthetics as usual, in this case, <code>fill</code> and <code>color</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb10-2"><a href="#cb10-2"></a></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="fu">ggplot</span>(nc_sf) <span class="sc">+</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="fu">geom_sf</span>(<span class="at">fill =</span> <span class="st">"#0C1337"</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5"></a>  <span class="fu">theme_void</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_fall24_files/figure-revealjs/unnamed-chunk-9-1.png" width="960" class="r-stretch quarto-figure-center"></section></section>
<section>
<section id="finding-geometries" class="title-slide slide level1 center">
<h1>Finding geometries</h1>

</section>
<section id="finding-geometries-1" class="slide level2 smaller">
<h2>Finding geometries</h2>
<hr>
<ul>
<li><p>The <code>nc</code> data is included with the {sf} package, but in practice, you will need to find your shapefiles elsewhere</p></li>
<li><p>Two major types of files for this:</p>
<ol type="1">
<li>Shapefiles (.shp + dependencies)
<ul>
<li>Usually download as a .zip</li>
<li>Contains multiple files with the same name but different extensions</li>
<li>e.g., <code>my_shapefile.shp</code>, <code>my_shapefile.shx</code>, <code>my_shapefile.dbf</code>, etc.</li>
</ul></li>
<li>geoJSON (.geojson)</li>
</ol></li>
<li><p>We’ll focus on shapefiles, which are the most common format</p></li>
</ul>
</section>
<section id="shapefiles" class="slide level2 smaller">
<h2>Shapefiles</h2>
<hr>
<ul>
<li>Shapefiles are a collection of files that store the geometry and attributes of geographic features</li>
<li>e.g., if you wanted to have a map of the counties in Tennessee, you would need a shapefile that contains the geometry of each county in Tennessee
<ul>
<li>Otherwise, you would need to construct the boundaries/geometries yourself.</li>
</ul></li>
<li>Some typical use cases:
<ul>
<li>You want to fill in counties with colors based on some data</li>
<li>You want to overlay points on a map, like the locations of schools in Tennessee</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="the-tigris-package" class="title-slide slide level1 center">
<h1>The {tigris} package</h1>

</section>
<section id="the-tigris-package-1" class="slide level2 smaller">
<h2>The {tigris} package</h2>
<hr>
<p>One option for shapefiles: {tigris} is an R package that allows users to directly download and use TIGER/Line shapefiles from the US Census Bureau using R.</p>
<p>TIGER stands for <em>Topologically Integrated Geographic Encoding and Referencing</em> and include three general types of data:</p>
<ul>
<li>Legal entities
<ul>
<li>States, counties, school districts, etc.</li>
</ul></li>
<li>Statistical entities
<ul>
<li>Census groups, blocks used for statistical reporting</li>
</ul></li>
<li>Geographic features
<ul>
<li>Roads, rivers, landmarks, etc.</li>
</ul></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">install.packages</span>(<span class="st">"tigris"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="the-tigris-package-2" class="slide level2 smaller">
<h2>The {tigris} package</h2>
<hr>
<ul>
<li>tigris functions return simple features objects with a default year of 2024.
<ul>
<li>Many functions in the package like <code>states()</code> and <code>counties()</code> and <code>roads()</code></li>
<li>See all function options: <a href="https://github.com/walkerke/tigris" class="uri">https://github.com/walkerke/tigris</a></li>
<li>The functions have different arguments, so check documentation for each (e.g., <code>?states()</code>)</li>
</ul></li>
</ul>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="{column} quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">states</span>(</span>
<span id="cb12-2"><a href="#cb12-2"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="{column} quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">counties</span>(</span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="at">state =</span> <span class="st">"TN"</span></span>
<span id="cb13-3"><a href="#cb13-3"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="{column} quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">roads</span>(</span>
<span id="cb14-2"><a href="#cb14-2"></a>  <span class="at">state =</span> <span class="st">"TN"</span>,</span>
<span id="cb14-3"><a href="#cb14-3"></a>  <span class="at">county =</span> <span class="st">"Knox"</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<ul>
<li>Note: TIGER data is well known to struggle with water features, so be cautious. There are other places to find good shapefiles, too!</li>
</ul>
</section>
<section id="the-tigris-package-3" class="slide level2 smaller">
<h2>The {tigris} package</h2>
<hr>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">library</span>(tigris)</span>
<span id="cb15-2"><a href="#cb15-2"></a></span>
<span id="cb15-3"><a href="#cb15-3"></a>tn_districts_sf <span class="ot">&lt;-</span> <span class="fu">school_districts</span>(<span class="st">"Tennessee"</span>)</span>
<span id="cb15-4"><a href="#cb15-4"></a>tn_districts_sf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 126 features and 14 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -90.31049 ymin: 34.98292 xmax: -81.6469 ymax: 36.67826
Geodetic CRS:  NAD83
First 10 features:
   STATEFP UNSDLEA   GEOID                                          NAME LSAD
1       47   00001 4700001                Hamblen County School District   00
2       47   00060 4700060                    Alcoa City School District   00
3       47   00078 4700078                         Fort Campbell Schools   00
4       47   02340 4702340               Lawrence County School District   00
5       47   03090 4703090                 Morgan County School District   00
6       47   03180 4703180 Metropolitan Nashville Public School District   00
7       47   03390 4703390                  Perry County School District   00
8       47   03420 4703420                Pickett County School District   00
9       47   04550 4704550                 Wilson County School District   00
10      47   00090 4700090               Anderson County School District   00
   LOGRADE HIGRADE MTFCC SDTYP FUNCSTAT      ALAND   AWATER    INTPTLAT
1       PK      12 G5420  &lt;NA&gt;        E  417476152 37852326 +36.2183967
2       PK      12 G5420  &lt;NA&gt;        E   38810006  2388278 +35.8095702
3       PK      12 G5420     B        E  273929183   490282 +36.5982483
4       PK      12 G5420  &lt;NA&gt;        E 1598359119  2218403 +35.2204764
5       PK      12 G5420  &lt;NA&gt;        E 1352439680   823018 +36.1386970
6       PK      12 G5420  &lt;NA&gt;        E 1303999197 56424538 +36.1691287
7       PK      12 G5420  &lt;NA&gt;        E 1074235994 20984700 +35.6637521
8       PK      12 G5420  &lt;NA&gt;        E  422090560 29845401 +36.5593638
9       PK      12 G5420  &lt;NA&gt;        E 1352057025 29867644 +36.1494307
10      PK      12 G5420  &lt;NA&gt;        E  729446691 10681215 +36.1454415
       INTPTLON                       geometry
1  -083.2660711 MULTIPOLYGON (((-83.4687 36...
2  -083.9758571 MULTIPOLYGON (((-84.02875 3...
3  -087.6003456 MULTIPOLYGON (((-87.8021 36...
4  -087.3965460 MULTIPOLYGON (((-87.61192 3...
5  -084.6392616 MULTIPOLYGON (((-84.91415 3...
6  -086.7847898 MULTIPOLYGON (((-86.52329 3...
7  -087.8693256 MULTIPOLYGON (((-88.0435 35...
8  -085.0757410 MULTIPOLYGON (((-85.28541 3...
9  -086.2911813 MULTIPOLYGON (((-86.59536 3...
10 -084.1876563 MULTIPOLYGON (((-84.08317 3...</code></pre>
</div>
</div>

<aside><div>
<p>Codebook of variables available <a href="https://nces.ed.gov/programs/edge/docs/EDGE_SDBOUNDARIES_COMPOSITE_2016.pdf">here</a></p>
</div></aside></section>
<section id="the-tigris-package-4" class="slide level2 smaller">
<h2>The {tigris} package</h2>
<hr>
<p>We can plot our output from tigris using ggplot2 and <code>geom_sf()</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>tn_districts_sf <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb17-3"><a href="#cb17-3"></a>  <span class="fu">geom_sf</span>(<span class="at">color=</span><span class="st">"#993414"</span>, <span class="at">fill=</span><span class="st">"#FFFFFF"</span>) <span class="sc">+</span></span>
<span id="cb17-4"><a href="#cb17-4"></a>  <span class="fu">theme_void</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_fall24_files/figure-revealjs/unnamed-chunk-14-1.png" width="960" class="r-stretch quarto-figure-center"></section></section>
<section>
<section id="reading-shapefiles" class="title-slide slide level1 center">
<h1>Reading shapefiles</h1>

</section>
<section id="reading-shapefiles-1" class="slide level2">
<h2>Reading shapefiles</h2>
<hr>
<ul>
<li>A second option for shapefiles is to find one on the internet, download it, and read it into R</li>
<li>There are lots of places to get shapefiles:</li>
</ul>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<ul>
<li><a href="https://international.ipums.org/international/gis.shtml">IPUMS</a></li>
<li><a href="https://gadm.org/">GADM</a></li>
<li><a href="https://www.naturalearthdata.com/downloads/">Natural Earth</a></li>
<li><a href="https://ec.europa.eu/eurostat/web/gisco/geodata">Eurostat</a></li>
<li><a href="https://public.opendatasoft.com/explore/dataset/world-administrative-boundaries/table/?location=2,42.07882,0.00845&amp;basemap=jawg.light">OpenDataSoft</a></li>
</ul>
</div>
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<ul>
<li><a href="https://freegisdata.rtwilson.com/">Free GIS Data</a></li>
<li><a href="https://download.geofabrik.de/">Geofabrik/OSM Data</a></li>
<li><a href="https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html">U.S. Census Bureau</a></li>
<li><a href="https://simplemaps.com/data/world-cities">SimpleMaps</a></li>
<li><a href="https://nces.ed.gov/programs/edge/Geographic/DistrictBoundaries">NCES</a></li>
</ul>
</div>
</div>
</div>
</section>
<section id="reading-shapefiles-2" class="slide level2 smaller">
<h2>Reading shapefiles</h2>
<hr>
<ul>
<li><p>Lots of government agencies and organizations provide shapefiles for free, including <a href="https://knoxplanning.org/data/open-data">Knox County</a></p></li>
<li><p>Let’s say we want to map the Zoning districts from Knox County (available here: <a href="https://www.arcgis.com/home/item.html?id=481b8a768b20403998fb9b454f35d23b" class="uri">https://www.arcgis.com/home/item.html?id=481b8a768b20403998fb9b454f35d23b</a>).</p></li>
<li><p>I downloaded the shapefile .zip and saved it in my Week 12 folder.</p></li>
<li><p>When I unpacked the folder, I renamed it to <code>shapefiles</code> for ease.</p></li>
</ul>

<img data-src="knox.png" style="width:60.0%" class="r-stretch quarto-figure-center"></section>
<section id="reading-shapefiles-3" class="slide level2 smaller">
<h2>Reading shapefiles</h2>
<hr>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note: The <code>st_</code> prefix</strong></p>
</div>
<div class="callout-content">
<p>In {sf} spatial functions have the pre-fix <code>st_</code></p>
</div>
</div>
</div>
<p>I’ll use the function <code>st_read()</code> to read in the shapefile</p>
<ul>
<li><code>dsn</code>: the path to the shapefile folder</li>
<li><code>layer</code>: name of the shapefile</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>knox_zones_sf <span class="ot">&lt;-</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>    <span class="fu">st_read</span>(<span class="at">dsn =</span> <span class="st">"shapefiles"</span>,</span>
<span id="cb18-3"><a href="#cb18-3"></a>            <span class="at">layer =</span> <span class="st">"Knoxville-Knox_County_Zoning"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `Knoxville-Knox_County_Zoning' from data source 
  `/Users/kelly/Documents/viz-data-using-r/week-13/shapefiles' 
  using driver `ESRI Shapefile'
replacing null geometries with empty geometries
Simple feature collection with 13230 features and 10 fields (with 14 geometries empty)
Geometry type: GEOMETRY
Dimension:     XY
Bounding box:  xmin: 2479441 ymin: 536582.7 xmax: 2663425 ymax: 680917.9
Projected CRS: NAD83(HARN) / Tennessee (ftUS)</code></pre>
</div>
</div>
</section>
<section id="reading-shapefiles-4" class="slide level2 smaller">
<h2>Reading shapefiles</h2>
<hr>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>When naming objects, I like to use the <code>_sf</code> suffix to indicate that it is a simple feature object. This helps me remember that it is a spatial object and not a regular data frame.</p>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>knox_zones_sf <span class="ot">&lt;-</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>    <span class="fu">st_read</span>(<span class="at">dsn =</span> <span class="st">"shapefiles"</span>,</span>
<span id="cb20-3"><a href="#cb20-3"></a>            <span class="at">layer =</span> <span class="st">"Knoxville-Knox_County_Zoning"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `Knoxville-Knox_County_Zoning' from data source 
  `/Users/kelly/Documents/viz-data-using-r/week-13/shapefiles' 
  using driver `ESRI Shapefile'
replacing null geometries with empty geometries
Simple feature collection with 13230 features and 10 fields (with 14 geometries empty)
Geometry type: GEOMETRY
Dimension:     XY
Bounding box:  xmin: 2479441 ymin: 536582.7 xmax: 2663425 ymax: 680917.9
Projected CRS: NAD83(HARN) / Tennessee (ftUS)</code></pre>
</div>
</div>
<ul>
<li>This output says it has a projected CRS. What does that mean ?</li>
</ul>
</section></section>
<section>
<section id="understanding-projections" class="title-slide slide level1 center">
<h1>Understanding Projections</h1>

</section>
<section id="understanding-projections-1" class="slide level2 smaller">
<h2>Understanding projections</h2>
<hr>
<ul>
<li>Geometries can be projected (projected Coordinate Reference System) or unprojected (geodetic Coordinate Reference System)
<ul>
<li>What’s the difference?</li>
</ul></li>
</ul>
<p><strong>Geodetic CRS</strong> = Earth as geodetic sphere</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>tn_districts_sf <span class="sc">|&gt;</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>  <span class="fu">select</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>) <span class="sc">|&gt;</span></span>
<span id="cb22-3"><a href="#cb22-3"></a>  <span class="fu">head</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 1 feature and 2 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -83.4687 ymin: 36.08129 xmax: -83.08173 ymax: 36.34529
Geodetic CRS:  NAD83
    GEOID                           NAME                       geometry
1 4700001 Hamblen County School District MULTIPOLYGON (((-83.4687 36...</code></pre>
</div>
</div>
<ul>
<li>The most common/often default geodetic CRS is WGS84 (EPSG: 4326)</li>
</ul>
</section>
<section id="understanding-projections-2" class="slide level2 smaller">
<h2>Understanding projections</h2>
<hr>
<ul>
<li>Geometries can be projected (projected Coordinate Reference System) or unprojected (geodetic Coordinate Reference System)
<ul>
<li>What’s the difference?</li>
</ul></li>
</ul>
<p><strong>Projected CRS</strong> = Earth as a flat surface</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>knox_zones_sf <span class="sc">|&gt;</span></span>
<span id="cb24-2"><a href="#cb24-2"></a>  <span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">10</span>,<span class="dv">11</span>) <span class="sc">|&gt;</span></span>
<span id="cb24-3"><a href="#cb24-3"></a>  <span class="fu">head</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 1 feature and 3 fields
Geometry type: POLYGON
Dimension:     XY
Bounding box:  xmin: 2560779 ymin: 611578.9 xmax: 2561690 ymax: 612660.6
Projected CRS: NAD83(HARN) / Tennessee (ftUS)
  ZONE1 AREA_ACRES         ZONE_TYPE                       geometry
1  RN-1   9.629819 City of Knoxville POLYGON ((2561448 612660.5,...</code></pre>
</div>
</div>
</section>
<section id="understanding-projections-3" class="slide level2 smaller">
<h2>Understanding projections</h2>
<hr>
<ul>
<li>Projected CRS vs.&nbsp;Geodetic CRS: What are implications?</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="fu">library</span>(rnaturalearth) <span class="co">#Easy world map</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>world_sf <span class="ot">&lt;-</span> <span class="fu">ne_countries</span>(<span class="at">scale =</span> <span class="st">"medium"</span>, <span class="at">returnclass =</span> <span class="st">"sf"</span>) <span class="co">#getting world map from pkg</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><strong>Geodetic CRS</strong> = sphere</p>
<p><span class="extra-small-font">- Note: R still flattens, but you aren’t telling it how</span></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="fu">ggplot</span>(world_sf) <span class="sc">+</span></span>
<span id="cb27-2"><a href="#cb27-2"></a>  <span class="fu">geom_sf</span>() <span class="sc">+</span></span>
<span id="cb27-3"><a href="#cb27-3"></a>  <span class="fu">ggtitle</span>(<span class="st">"Geodetic CRS (WGS84, degrees)"</span>) <span class="sc">+</span></span>
<span id="cb27-4"><a href="#cb27-4"></a>  <span class="fu">coord_sf</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="slides_fall24_files/figure-revealjs/unnamed-chunk-21-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><strong>Projected CRS</strong> = flattened</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>world_proj_sf <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(world_sf, <span class="at">crs =</span> <span class="st">"+proj=moll"</span>) </span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="co">#reprojecting to Mollweide - good for world maps</span></span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="fu">ggplot</span>(world_proj_sf) <span class="sc">+</span></span>
<span id="cb28-4"><a href="#cb28-4"></a>  <span class="fu">geom_sf</span>() <span class="sc">+</span></span>
<span id="cb28-5"><a href="#cb28-5"></a>  <span class="fu">ggtitle</span>(<span class="st">"Projected CRS (Mollweide, meters)"</span>) <span class="sc">+</span></span>
<span id="cb28-6"><a href="#cb28-6"></a>  <span class="fu">coord_sf</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="slides_fall24_files/figure-revealjs/unnamed-chunk-22-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- ## Understanding projections{.smaller} -->
<!-- <hr> -->
<!-- - Cylindrical, conical, and planar projections are the three main types of map projections -->
<!-- ```{r} -->
<!-- #| echo: false -->
<!-- #| out.width: 50% -->
<!-- #| fig-align: center -->
<!-- knitr::include_graphics("projection_families.png") -->
<!-- ``` -->
<!-- ::: aside -->
<!-- Source: [QGIS: Coordinate Reference Systems](https://docs.qgis.org/3.34/en/docs/gentle_gis_introduction/coordinate_reference_systems.html) -->
<!-- ::: -->
</section>
<section id="understanding-projections-4" class="slide level2 smaller">
<h2>Understanding projections</h2>
<hr>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><strong>Why use a geodetic CRS?</strong></p>
<ul>
<li>Preserves true latitude and longitude</li>
</ul>
</div>
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><strong>Why use a projected CRS?</strong></p>
<ul>
<li>Preserves area, distance, or direction</li>
<li>Distance and area calculations are more accurate</li>
<li>Can created local maps with minimal distortion</li>
</ul>
</div>
</div>
</div>
<ul>
<li>All projections have a CRS, not all CRSes have projections</li>
<li>Standardized CRSes have a <a href="https://spatialreference.org/ref/epsg/">unique EPSG code</a></li>
</ul>
</section>
<section id="understanding-projections-5" class="slide level2 smaller">
<h2>Understanding projections</h2>
<hr>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><strong>Why use a geodetic CRS?</strong></p>
<div class="extra-small-font">
<ul>
<li>Preserves true latitude and longitude</li>
</ul>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="slides_fall24_files/figure-revealjs/unnamed-chunk-23-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><strong>Why use a projected CRS?</strong></p>
<div class="extra-small-font">
<ul>
<li>Preserves area, distance, or direction</li>
<li>Distance and area calculations are more accurate</li>
<li>Can created local maps with minimal distortion</li>
</ul>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="slides_fall24_files/figure-revealjs/unnamed-chunk-24-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="understanding-projections-6" class="slide level2 smaller">
<h2>Understanding projections</h2>
<hr>
<ul>
<li>Is the CRS of <code>knox_zones_sf</code> geodetic or projected?</li>
<li>What is the <a href="https://spatialreference.org/ref/epsg/2915/">EPSG</a> code for the CRS of <code>knox_zones_sf</code>?</li>
<li>The <code>st_crs()</code> function returns the CRS of an sf object</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">st_crs</span>(knox_zones_sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Coordinate Reference System:
  User input: NAD83(HARN) / Tennessee (ftUS) 
  wkt:
PROJCRS["NAD83(HARN) / Tennessee (ftUS)",
    BASEGEOGCRS["NAD83(HARN)",
        DATUM["NAD83 (High Accuracy Reference Network)",
            ELLIPSOID["GRS 1980",6378137,298.257222101,
                LENGTHUNIT["metre",1]]],
        PRIMEM["Greenwich",0,
            ANGLEUNIT["degree",0.0174532925199433]],
        ID["EPSG",4152]],
    CONVERSION["SPCS83 Tennessee zone (US Survey feet)",
        METHOD["Lambert Conic Conformal (2SP)",
            ID["EPSG",9802]],
        PARAMETER["Latitude of false origin",34.3333333333333,
            ANGLEUNIT["degree",0.0174532925199433],
            ID["EPSG",8821]],
        PARAMETER["Longitude of false origin",-86,
            ANGLEUNIT["degree",0.0174532925199433],
            ID["EPSG",8822]],
        PARAMETER["Latitude of 1st standard parallel",36.4166666666667,
            ANGLEUNIT["degree",0.0174532925199433],
            ID["EPSG",8823]],
        PARAMETER["Latitude of 2nd standard parallel",35.25,
            ANGLEUNIT["degree",0.0174532925199433],
            ID["EPSG",8824]],
        PARAMETER["Easting at false origin",1968500,
            LENGTHUNIT["US survey foot",0.304800609601219],
            ID["EPSG",8826]],
        PARAMETER["Northing at false origin",0,
            LENGTHUNIT["US survey foot",0.304800609601219],
            ID["EPSG",8827]]],
    CS[Cartesian,2],
        AXIS["easting (X)",east,
            ORDER[1],
            LENGTHUNIT["US survey foot",0.304800609601219]],
        AXIS["northing (Y)",north,
            ORDER[2],
            LENGTHUNIT["US survey foot",0.304800609601219]],
    USAGE[
        SCOPE["Engineering survey, topographic mapping."],
        AREA["United States (USA) - Tennessee - counties of Anderson; Bedford; Benton; Bledsoe; Blount; Bradley; Campbell; Cannon; Carroll; Carter; Cheatham; Chester; Claiborne; Clay; Cocke; Coffee; Crockett; Cumberland; Davidson; De Kalb; Decatur; Dickson; Dyer; Fayette; Fentress; Franklin; Gibson; Giles; Grainger; Greene; Grundy; Hamblen; Hamilton; Hancock; Hardeman; Hardin; Hawkins; Haywood; Henderson; Henry; Hickman; Houston; Humphreys; Jackson; Jefferson; Johnson; Knox; Lake; Lauderdale; Lawrence; Lewis; Lincoln; Loudon; Macon; Madison; Marion; Marshall; Maury; McMinn; McNairy; Meigs; Monroe; Montgomery; Moore; Morgan; Obion; Overton; Perry; Pickett; Polk; Putnam; Rhea; Roane; Robertson; Rutherford; Scott; Sequatchie; Sevier; Shelby; Smith; Stewart; Sullivan; Sumner; Tipton; Trousdale; Unicoi; Union; Van Buren; Warren; Washington; Wayne; Weakley; White; Williamson; Wilson."],
        BBOX[34.98,-90.31,36.68,-81.65]],
    ID["EPSG",2915]]</code></pre>
</div>
</div>
</section></section>
<section>
<section id="layering-in-our-own-data-.csv" class="title-slide slide level1 center">
<h1>Layering in Our Own Data (.csv)</h1>

</section>
<section id="plotting-the-shapefile" class="slide level2 smaller">
<h2>Plotting the shapefile</h2>
<hr>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb31-2"><a href="#cb31-2"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> knox_zones_sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_fall24_files/figure-revealjs/unnamed-chunk-26-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="adding-our-data-as-.csv" class="slide level2 smaller">
<h2>Adding our data as <code>.csv</code></h2>
<hr>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>knox_sites <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"KnoxSites.csv"</span>)</span>
<span id="cb32-2"><a href="#cb32-2"></a></span>
<span id="cb32-3"><a href="#cb32-3"></a>knox_sites</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  Place             Latitude Longitude
  &lt;chr&gt;                &lt;dbl&gt;     &lt;dbl&gt;
1 My Office             36.0     -83.9
2 Office of Parking     35.9     -83.9
3 West Town Mall        35.9     -84.0
4 Costco                35.9     -84.1</code></pre>
</div>
</div>
</section>
<section id="converting-our-data-to-sf-object" class="slide level2 smaller">
<h2>Converting our data to sf object</h2>
<hr>
<ul>
<li>Creating an sf object from a data frame requires the <code>st_as_sf()</code> function</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a>knox_sites_sf <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(knox_sites, </span>
<span id="cb34-2"><a href="#cb34-2"></a>                          <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"Longitude"</span>, <span class="st">"Latitude"</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb34-3"><a href="#cb34-3"></a><span class="co"># Our knox_sites data is in CRS 4326, </span></span>
<span id="cb34-4"><a href="#cb34-4"></a><span class="co"># as it's in latitude/longitude degrees</span></span>
<span id="cb34-5"><a href="#cb34-5"></a></span>
<span id="cb34-6"><a href="#cb34-6"></a><span class="fu">class</span>(knox_sites_sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "sf"         "tbl_df"     "tbl"        "data.frame"</code></pre>
</div>
</div>
</section>
<section id="plotting-our-data" class="slide level2 smaller">
<h2>Plotting our data</h2>
<hr>
<ul>
<li>Can we just plot it?</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb36-2"><a href="#cb36-2"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> knox_zones_sf) <span class="sc">+</span></span>
<span id="cb36-3"><a href="#cb36-3"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> knox_sites_sf, <span class="at">color =</span> <span class="st">"#FF8200"</span>, <span class="at">size =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_fall24_files/figure-revealjs/unnamed-chunk-29-1.png" width="960" class="r-stretch quarto-figure-center"><ul>
<li>Yes! But, this could have caused a problem. Why?</li>
</ul>
</section>
<section id="best-practice" class="slide level2 smaller">
<h2>Best Practice</h2>
<hr>
<ul>
<li>Best practice: All map components/layers are in the same CRS</li>
<li>Otherwise transform one of them to match the other</li>
</ul>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><strong>What is CRS of <code>knox_zones_sf</code>?</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">st_crs</span>(knox_zones_sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Coordinate Reference System:
  User input: NAD83(HARN) / Tennessee (ftUS) 
  wkt:
PROJCRS["NAD83(HARN) / Tennessee (ftUS)",
    BASEGEOGCRS["NAD83(HARN)",
        DATUM["NAD83 (High Accuracy Reference Network)",
            ELLIPSOID["GRS 1980",6378137,298.257222101,
                LENGTHUNIT["metre",1]]],
        PRIMEM["Greenwich",0,
            ANGLEUNIT["degree",0.0174532925199433]],
        ID["EPSG",4152]],
    CONVERSION["SPCS83 Tennessee zone (US Survey feet)",
        METHOD["Lambert Conic Conformal (2SP)",
            ID["EPSG",9802]],
        PARAMETER["Latitude of false origin",34.3333333333333,
            ANGLEUNIT["degree",0.0174532925199433],
            ID["EPSG",8821]],
        PARAMETER["Longitude of false origin",-86,
            ANGLEUNIT["degree",0.0174532925199433],
            ID["EPSG",8822]],
        PARAMETER["Latitude of 1st standard parallel",36.4166666666667,
            ANGLEUNIT["degree",0.0174532925199433],
            ID["EPSG",8823]],
        PARAMETER["Latitude of 2nd standard parallel",35.25,
            ANGLEUNIT["degree",0.0174532925199433],
            ID["EPSG",8824]],
        PARAMETER["Easting at false origin",1968500,
            LENGTHUNIT["US survey foot",0.304800609601219],
            ID["EPSG",8826]],
        PARAMETER["Northing at false origin",0,
            LENGTHUNIT["US survey foot",0.304800609601219],
            ID["EPSG",8827]]],
    CS[Cartesian,2],
        AXIS["easting (X)",east,
            ORDER[1],
            LENGTHUNIT["US survey foot",0.304800609601219]],
        AXIS["northing (Y)",north,
            ORDER[2],
            LENGTHUNIT["US survey foot",0.304800609601219]],
    USAGE[
        SCOPE["Engineering survey, topographic mapping."],
        AREA["United States (USA) - Tennessee - counties of Anderson; Bedford; Benton; Bledsoe; Blount; Bradley; Campbell; Cannon; Carroll; Carter; Cheatham; Chester; Claiborne; Clay; Cocke; Coffee; Crockett; Cumberland; Davidson; De Kalb; Decatur; Dickson; Dyer; Fayette; Fentress; Franklin; Gibson; Giles; Grainger; Greene; Grundy; Hamblen; Hamilton; Hancock; Hardeman; Hardin; Hawkins; Haywood; Henderson; Henry; Hickman; Houston; Humphreys; Jackson; Jefferson; Johnson; Knox; Lake; Lauderdale; Lawrence; Lewis; Lincoln; Loudon; Macon; Madison; Marion; Marshall; Maury; McMinn; McNairy; Meigs; Monroe; Montgomery; Moore; Morgan; Obion; Overton; Perry; Pickett; Polk; Putnam; Rhea; Roane; Robertson; Rutherford; Scott; Sequatchie; Sevier; Shelby; Smith; Stewart; Sullivan; Sumner; Tipton; Trousdale; Unicoi; Union; Van Buren; Warren; Washington; Wayne; Weakley; White; Williamson; Wilson."],
        BBOX[34.98,-90.31,36.68,-81.65]],
    ID["EPSG",2915]]</code></pre>
</div>
</div>
</div>
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><strong>What is CRS of <code>knox_sites_sf</code>?</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="fu">st_crs</span>(knox_sites_sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Coordinate Reference System:
  User input: EPSG:4326 
  wkt:
GEOGCRS["WGS 84",
    ENSEMBLE["World Geodetic System 1984 ensemble",
        MEMBER["World Geodetic System 1984 (Transit)"],
        MEMBER["World Geodetic System 1984 (G730)"],
        MEMBER["World Geodetic System 1984 (G873)"],
        MEMBER["World Geodetic System 1984 (G1150)"],
        MEMBER["World Geodetic System 1984 (G1674)"],
        MEMBER["World Geodetic System 1984 (G1762)"],
        MEMBER["World Geodetic System 1984 (G2139)"],
        ELLIPSOID["WGS 84",6378137,298.257223563,
            LENGTHUNIT["metre",1]],
        ENSEMBLEACCURACY[2.0]],
    PRIMEM["Greenwich",0,
        ANGLEUNIT["degree",0.0174532925199433]],
    CS[ellipsoidal,2],
        AXIS["geodetic latitude (Lat)",north,
            ORDER[1],
            ANGLEUNIT["degree",0.0174532925199433]],
        AXIS["geodetic longitude (Lon)",east,
            ORDER[2],
            ANGLEUNIT["degree",0.0174532925199433]],
    USAGE[
        SCOPE["Horizontal component of 3D system."],
        AREA["World."],
        BBOX[-90,-180,90,180]],
    ID["EPSG",4326]]</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="creating-sf-objects" class="slide level2 smaller">
<h2>Creating sf objects</h2>
<hr>
<ul>
<li>Although the plot worked, R was projecting-on-the-fly
<ul>
<li>R was automagically transforming the CRS of 2nd layer to match the first layer</li>
<li>This is not ideal, as it can lead to inaccuracies</li>
</ul></li>
<li>Much better if all of the map components/layers are in the same CRS</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="co">#transforming the CRS of knox_sites_sf to match the knox_zones CRS</span></span>
<span id="cb41-2"><a href="#cb41-2"></a>knox_sites_sf <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(knox_sites_sf, <span class="fu">st_crs</span>(knox_zones_sf))</span>
<span id="cb41-3"><a href="#cb41-3"></a></span>
<span id="cb41-4"><a href="#cb41-4"></a>knox_sites_sf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 4 features and 1 field
Geometry type: POINT
Dimension:     XY
Bounding box:  xmin: 2519199 ymin: 574186.2 xmax: 2581614 ymax: 596783.1
Projected CRS: NAD83(HARN) / Tennessee (ftUS)
# A tibble: 4 × 2
  Place                             geometry
* &lt;chr&gt;             &lt;POINT [US_survey_foot]&gt;
1 My Office               (2581614 596783.1)
2 Office of Parking       (2580904 593545.5)
3 West Town Mall          (2549583 585304.2)
4 Costco                  (2519199 574186.2)</code></pre>
</div>
</div>
</section>
<section id="plotting" class="slide level2">
<h2>Plotting</h2>
<hr>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb43-2"><a href="#cb43-2"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> knox_zones_sf) <span class="sc">+</span></span>
<span id="cb43-3"><a href="#cb43-3"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> knox_sites_sf, <span class="at">color =</span> <span class="st">"#FF8200"</span>, <span class="at">size =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_fall24_files/figure-revealjs/unnamed-chunk-33-1.png" width="960" class="r-stretch quarto-figure-center"></section></section>
<section>
<section id="choropleth-maps" class="title-slide slide level1 center">
<h1>Choropleth Maps</h1>

</section>
<section id="choropleth-maps-1" class="slide level2">
<h2>Choropleth maps</h2>
<hr>
<p>Geographical heat maps, also known as choropleth maps, are one way of visualizing geographic data.</p>

<img data-src="photo.png" style="width:60.0%" class="r-stretch quarto-figure-center"></section>
<section id="joining-spatial-data---fips" class="slide level2 smaller">
<h2>Joining spatial data - FIPS</h2>
<hr>
<ul>
<li>To make choropleths (and a lot of other maps), we often need to join data</li>
<li>The Federal Information Processing Standards (FIPS) have specific codes for joining <a href="https://transition.fcc.gov/oet/info/maps/census/fips/fips.txt">states, counties</a>, etc.</li>
<li>Also often included in datasets</li>
</ul>

<img data-src="dplyr_joins.svg" style="width:60.0%" class="r-stretch quarto-figure-center"></section>
<section id="joining-spatial-data---fips-1" class="slide level2">
<h2>Joining spatial data - FIPS</h2>
<hr>
<blockquote>
<p>Keep all rows from <code>x</code>, and all columns from <code>x</code> and <code>y</code>. Rows in <code>x</code> with no match in <code>y</code> will have <code>NA</code> values in the new columns.</p>
</blockquote>

<img data-src="left-join.gif" style="width:60.0%" class="r-stretch quarto-figure-center"></section>
<section id="joining-spatial-data---fips-2" class="slide level2 smaller">
<h2>Joining spatial data - FIPS</h2>
<hr>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a><span class="co">#remotes::install_github("dcl-docs/ussf")</span></span>
<span id="cb44-2"><a href="#cb44-2"></a>states_sf <span class="ot">&lt;-</span> ussf<span class="sc">::</span><span class="fu">boundaries</span>(<span class="st">"state"</span>, <span class="at">resolution =</span> <span class="st">"5m"</span>)</span>
<span id="cb44-3"><a href="#cb44-3"></a><span class="co">#Note: This is a custom/non-standard CRS, so no EPSG code</span></span>
<span id="cb44-4"><a href="#cb44-4"></a><span class="co"># It handles the AK/HI problem for us</span></span>
<span id="cb44-5"><a href="#cb44-5"></a></span>
<span id="cb44-6"><a href="#cb44-6"></a>states_sf <span class="sc">|&gt;</span></span>
<span id="cb44-7"><a href="#cb44-7"></a>  <span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb44-8"><a href="#cb44-8"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 6 features and 6 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -2356114 ymin: -1295867 xmax: 236359.5 ymax: 1565782
Projected CRS: +proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs
# A tibble: 6 × 7
  STATEFP STUSPS NAME         LSAD       ALAND  AWATER                  geometry
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;        &lt;chr&gt;      &lt;dbl&gt;   &lt;dbl&gt;        &lt;MULTIPOLYGON [m]&gt;
1 31      NE     Nebraska     00       1.99e11 1.37e 9 (((-669722.6 438206.7, -…
2 53      WA     Washington   00       1.72e11 1.26e10 (((-1955188 1446310, -19…
3 35      NM     New Mexico   00       3.14e11 7.29e 8 (((-1231344 -588235.8, -…
4 46      SD     South Dakota 00       1.96e11 3.38e 9 (((-633753 865532.1, -63…
5 48      TX     Texas        00       6.77e11 1.90e10 (((-1000297 -570209.1, -…
6 06      CA     California   00       4.04e11 2.05e10 (((-2066842 -203155, -20…</code></pre>
</div>
</div>
</section>
<section id="joining-spatial-data---fips-3" class="slide level2 smaller">
<h2>Joining spatial data - FIPS</h2>
<hr>
<p>We can plot the states using <code>geom_sf()</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb46-2"><a href="#cb46-2"></a>  <span class="fu">geom_sf</span>(<span class="at">data=</span>states_sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_fall24_files/figure-revealjs/unnamed-chunk-38-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="joining-spatial-data---fips-4" class="slide level2 smaller">
<h2>Joining spatial data - FIPS</h2>
<hr>
<p>Now, we will use data on state population counts from the 2020 Census from {tidycensus}: <!-- Note: You need to have installed the {tidycensus} API key to render this --></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="co">#install.packages("tidycensus")</span></span>
<span id="cb47-2"><a href="#cb47-2"></a><span class="fu">library</span>(tidycensus)</span>
<span id="cb47-3"><a href="#cb47-3"></a>pop_counts_2020 <span class="ot">&lt;-</span> <span class="fu">get_decennial</span>(<span class="at">geography =</span> <span class="st">"state"</span>,</span>
<span id="cb47-4"><a href="#cb47-4"></a>                                             <span class="at">variables =</span> <span class="st">"DP1_0001C"</span>,</span>
<span id="cb47-5"><a href="#cb47-5"></a>                                             <span class="at">year =</span> <span class="dv">2020</span>,</span>
<span id="cb47-6"><a href="#cb47-6"></a>                                             <span class="at">sumfile =</span> <span class="st">"dp"</span>)</span>
<span id="cb47-7"><a href="#cb47-7"></a></span>
<span id="cb47-8"><a href="#cb47-8"></a><span class="fu">head</span>(pop_counts_2020)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  GEOID NAME       variable     value
  &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;        &lt;dbl&gt;
1 01    Alabama    DP1_0001C  5024279
2 02    Alaska     DP1_0001C   733391
3 04    Arizona    DP1_0001C  7151502
4 05    Arkansas   DP1_0001C  3011524
5 06    California DP1_0001C 39538223
6 08    Colorado   DP1_0001C  5773714</code></pre>
</div>
</div>
</section>
<section id="joining-spatial-data---fips-5" class="slide level2 smaller">
<h2>Joining spatial data - FIPS</h2>
<hr>
<ul>
<li>Note that both <code>states_sf</code> AND <code>pop_counts_2020</code> have a FIPS code variable
<ul>
<li>We can join them together using <code>left_join()</code> and the FIPS code!</li>
<li>Note that the FIPS code is called <code>STATEFP</code> in <code>states_sf</code> and <code>GEOID</code> in <code>pop_counts_2020</code></li>
</ul></li>
</ul>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>states_sf<span class="sc">|&gt;</span></span>
<span id="cb49-2"><a href="#cb49-2"></a>  <span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>) <span class="sc">|&gt;</span></span>
<span id="cb49-3"><a href="#cb49-3"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 6 features and 3 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -2356114 ymin: -1295867 xmax: 236359.5 ymax: 1565782
Projected CRS: +proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs
# A tibble: 6 × 4
  STATEFP STUSPS NAME                                                   geometry
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;                                        &lt;MULTIPOLYGON [m]&gt;
1 31      NE     Nebraska     (((-669722.6 438206.7, -668534.3 451363.2, -66850…
2 53      WA     Washington   (((-1955188 1446310, -1954750 1446030, -1953861 1…
3 35      NM     New Mexico   (((-1231344 -588235.8, -1231016 -586088.7, -12310…
4 46      SD     South Dakota (((-633753 865532.1, -633164.2 865497.7, -632286.…
5 48      TX     Texas        (((-1000297 -570209.1, -999788.6 -569601.7, -9990…
6 06      CA     California   (((-2066842 -203155, -2066434 -203272.1, -2065390…</code></pre>
</div>
</div>
</div>
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a><span class="fu">head</span>(pop_counts_2020)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  GEOID NAME       variable     value
  &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;        &lt;dbl&gt;
1 01    Alabama    DP1_0001C  5024279
2 02    Alaska     DP1_0001C   733391
3 04    Arizona    DP1_0001C  7151502
4 05    Arkansas   DP1_0001C  3011524
5 06    California DP1_0001C 39538223
6 08    Colorado   DP1_0001C  5773714</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="joining-spatial-data---fips-6" class="slide level2 smaller">
<h2>Joining spatial data - FIPS</h2>
<hr>
<ul>
<li>This is how you join the <code>states_sf</code> and <code>pop_counts_2020</code> together:</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a><span class="co">#REUSABLE CODE/GENERAL FORMULA</span></span>
<span id="cb53-2"><a href="#cb53-2"></a><span class="co">#object &lt;- left_join(shapefile_sf, data, by = "key")</span></span>
<span id="cb53-3"><a href="#cb53-3"></a></span>
<span id="cb53-4"><a href="#cb53-4"></a>joined_state_data_sf <span class="ot">&lt;-</span> <span class="fu">left_join</span>(states_sf, pop_counts_2020, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"STATEFP"</span> <span class="ot">=</span> <span class="st">"GEOID"</span>))</span>
<span id="cb53-5"><a href="#cb53-5"></a></span>
<span id="cb53-6"><a href="#cb53-6"></a>joined_state_data_sf <span class="sc">|&gt;</span></span>
<span id="cb53-7"><a href="#cb53-7"></a>  <span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">10</span><span class="sc">:</span><span class="dv">13</span>) <span class="sc">|&gt;</span></span>
<span id="cb53-8"><a href="#cb53-8"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 6 features and 6 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -2356114 ymin: -1295867 xmax: 236359.5 ymax: 1565782
Projected CRS: +proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs
# A tibble: 6 × 7
  STATEFP STUSPS NAME.x                          geometry NAME.y variable  value
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;                 &lt;MULTIPOLYGON [m]&gt; &lt;chr&gt;  &lt;chr&gt;     &lt;dbl&gt;
1 31      NE     Nebraska     (((-669722.6 438206.7, -66… Nebra… DP1_000… 1.96e6
2 53      WA     Washington   (((-1955188 1446310, -1954… Washi… DP1_000… 7.71e6
3 35      NM     New Mexico   (((-1231344 -588235.8, -12… New M… DP1_000… 2.12e6
4 46      SD     South Dakota (((-633753 865532.1, -6331… South… DP1_000… 8.87e5
5 48      TX     Texas        (((-1000297 -570209.1, -99… Texas  DP1_000… 2.91e7
6 06      CA     California   (((-2066842 -203155, -2066… Calif… DP1_000… 3.95e7</code></pre>
</div>
</div>
</section>
<section id="joining-spatial-data---fips-7" class="slide level2 smaller">
<h2>Joining spatial data - FIPS</h2>
<hr>
<p>Discussion about <code>left_join()</code>:</p>
<ol type="1">
<li>What is <code>NAME.x</code> and <code>NAME.y</code>?</li>
<li>What happens if states_sf (the <code>x</code> argument) has a state that is not in pop_counts_2020 (the <code>y</code> argument)?</li>
<li>What happens if pop_counts_2020 has a state that is not in states_sf?</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>joined_state_data_sf <span class="ot">&lt;-</span> <span class="fu">left_join</span>(states_sf, pop_counts_2020, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"STATEFP"</span> <span class="ot">=</span> <span class="st">"GEOID"</span>))</span>
<span id="cb55-2"><a href="#cb55-2"></a></span>
<span id="cb55-3"><a href="#cb55-3"></a>joined_state_data_sf <span class="sc">|&gt;</span></span>
<span id="cb55-4"><a href="#cb55-4"></a>  <span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">10</span><span class="sc">:</span><span class="dv">13</span>) <span class="sc">|&gt;</span></span>
<span id="cb55-5"><a href="#cb55-5"></a>  <span class="fu">head</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 3 features and 6 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -2138177 ymin: -614973.5 xmax: 58533.8 ymax: 1565782
Projected CRS: +proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs
# A tibble: 3 × 7
  STATEFP STUSPS NAME.x                          geometry NAME.y variable  value
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;                 &lt;MULTIPOLYGON [m]&gt; &lt;chr&gt;  &lt;chr&gt;     &lt;dbl&gt;
1 31      NE     Nebraska   (((-669722.6 438206.7, -6685… Nebra… DP1_000… 1.96e6
2 53      WA     Washington (((-1955188 1446310, -195475… Washi… DP1_000… 7.71e6
3 35      NM     New Mexico (((-1231344 -588235.8, -1231… New M… DP1_000… 2.12e6</code></pre>
</div>
</div>
</section>
<section id="plotting-spatial-data" class="slide level2 smaller">
<h2>Plotting spatial data</h2>
<hr>
<ul>
<li>Add the data as an aesthetic in your ggplot object with <code>fill()</code></li>
<li>Be sure to include in your <code>aes()</code> since it’s referring to data</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a><span class="fu">library</span>(viridis)</span>
<span id="cb57-2"><a href="#cb57-2"></a></span>
<span id="cb57-3"><a href="#cb57-3"></a><span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb57-4"><a href="#cb57-4"></a>  <span class="fu">geom_sf</span>(<span class="at">data=</span>joined_state_data_sf, <span class="fu">aes</span>(<span class="at">fill =</span> value))<span class="sc">+</span></span>
<span id="cb57-5"><a href="#cb57-5"></a>  <span class="fu">scale_fill_viridis</span>(<span class="at">option =</span> <span class="st">"magma"</span>, <span class="at">labels =</span> scales<span class="sc">::</span>comma, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_fall24_files/figure-revealjs/unnamed-chunk-44-1.png" width="960" class="r-stretch quarto-figure-center"></section></section>
<section>
<section id="layering-geoms-na-review" class="title-slide slide level1 center">
<h1>Layering geoms /n(a review)</h1>

</section>
<section id="plotting-points-state-capitals" class="slide level2 smaller">
<h2>Plotting points (State Capitals)</h2>
<hr>
<p>Let’s say we have another dataset with longitude/latitude data for each state capital’s city center:</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="{column} quarto-layout-cell" style="flex-basis: 57.1%;justify-content: center;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>joined_state_data_sf <span class="sc">|&gt;</span></span>
<span id="cb58-2"><a href="#cb58-2"></a>  <span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">6</span>,<span class="dv">13</span>) <span class="sc">|&gt;</span></span>
<span id="cb58-3"><a href="#cb58-3"></a>  <span class="fu">head</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 3 features and 3 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -2138177 ymin: -614973.5 xmax: 58533.8 ymax: 1565782
Projected CRS: +proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs
# A tibble: 3 × 4
  STATEFP NAME.x       value                                            geometry
  &lt;chr&gt;   &lt;chr&gt;        &lt;dbl&gt;                                  &lt;MULTIPOLYGON [m]&gt;
1 31      Nebraska   1961504 (((-669722.6 438206.7, -668534.3 451363.2, -668500…
2 53      Washington 7705281 (((-1955188 1446310, -1954750 1446030, -1953861 14…
3 35      New Mexico 2117522 (((-1231344 -588235.8, -1231016 -586088.7, -123101…</code></pre>
</div>
</div>
</div>
<div class="{column} quarto-layout-cell" style="flex-basis: 42.9%;justify-content: center;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a>state_capitals <span class="ot">&lt;-</span> </span>
<span id="cb60-2"><a href="#cb60-2"></a>  <span class="fu">read_csv</span>(<span class="st">"us-state-capitals.csv"</span>)</span>
<span id="cb60-3"><a href="#cb60-3"></a></span>
<span id="cb60-4"><a href="#cb60-4"></a><span class="fu">head</span>(state_capitals)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  name       description latitude longitude
  &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;
1 Alabama    Montgomery      32.4     -86.3
2 Alaska     Juneau          58.3    -134. 
3 Arizona    Phoenix         33.4    -112. 
4 Arkansas   Little Rock     34.7     -92.3
5 California Sacramento      38.6    -121. 
6 Colorado   Denver          39.7    -105. </code></pre>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>Capitals data from <a href="https://github.com/jasperdebie/VisInfo/blob/master/us-state-capitals.csv">jasperdebie’s github</a></p>
</div></aside></section>
<section id="add-to-map" class="slide level2 smaller">
<h2>Add to map</h2>
<hr>
<ul>
<li>Let’s plot them</li>
<li>Oh no! <a href="https://github.com/dcl-docs/ussf">{ussf}</a> handled the AK/HI problem, but our <code>.csv</code> file still has the AK/HI problem</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>state_capitals_sf <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(state_capitals, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"longitude"</span>, <span class="st">"latitude"</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb62-2"><a href="#cb62-2"></a></span>
<span id="cb62-3"><a href="#cb62-3"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb62-4"><a href="#cb62-4"></a>  <span class="fu">geom_sf</span>(<span class="at">data=</span>joined_state_data_sf, <span class="fu">aes</span>(<span class="at">fill =</span> value))<span class="sc">+</span></span>
<span id="cb62-5"><a href="#cb62-5"></a>  <span class="fu">geom_sf</span>(<span class="at">data=</span>state_capitals_sf, <span class="at">shape =</span><span class="dv">8</span>, <span class="at">color=</span><span class="st">"limegreen"</span> )<span class="sc">+</span></span>
<span id="cb62-6"><a href="#cb62-6"></a>  <span class="fu">scale_fill_viridis</span>(<span class="at">option =</span> <span class="st">"magma"</span>, <span class="at">labels =</span> scales<span class="sc">::</span>comma, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_fall24_files/figure-revealjs/unnamed-chunk-47-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="add-to-map-1" class="slide level2 smaller">
<h2>Add to map</h2>
<hr>
<ul>
<li>This is fixable (but complicated since it’s a custom CRS). Contact me if you need to address this issue in your final project.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb63-2"><a href="#cb63-2"></a>  <span class="fu">geom_sf</span>(<span class="at">data=</span>joined_state_data_sf, <span class="fu">aes</span>(<span class="at">fill =</span> value))<span class="sc">+</span></span>
<span id="cb63-3"><a href="#cb63-3"></a>  <span class="fu">geom_sf</span>(<span class="at">data=</span>state_capitals_sf, <span class="at">shape =</span><span class="dv">8</span>, <span class="at">color=</span><span class="st">"limegreen"</span> )<span class="sc">+</span></span>
<span id="cb63-4"><a href="#cb63-4"></a>  <span class="fu">scale_fill_viridis</span>(<span class="at">option =</span> <span class="st">"magma"</span>, <span class="at">labels =</span> scales<span class="sc">::</span>comma, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_fall24_files/figure-revealjs/unnamed-chunk-49-1.png" width="960" class="r-stretch quarto-figure-center"></section></section>
<section>
<section id="collaborative-practice" class="title-slide slide level1 center">
<h1>Collaborative Practice</h1>

</section>
<section id="grad-certificate" class="slide level2">
<h2>Grad certificate</h2>
<hr>
<p>The University of Tennessee, Knoxville, offers an online graduate certificate in Educational Data Science for students interested in digital data collection, analysis, visualization, and more in educational settings. The certificate can be added to current graduate students’ studies or pursued as a stand-alone certificate for graduate-level students.</p>
<ul>
<li><a href="https://volsonline.utk.edu/programs-degrees/educational-data-science-gc/">More Info</a></li>
<li><a href="https://gradschool.utk.edu/academics/forms-central/admission-to-a-graduate-certificate-program/">Apply Here</a></li>
</ul>
</section></section>
<section>
<section id="looking-ahead" class="title-slide slide level1 center">
<h1>Looking Ahead</h1>

</section>
<section id="next-weeks-structure" class="slide level2">
<h2>Next Week’s Structure</h2>
<hr>
<ul>
<li>Test drive zoom timers</li>
<li>Preview <a href="https://airtable.com/appxk3cJS5Wp4CYK4/shrNo1yJwUrKLYtPl">peer feedback form</a></li>
</ul>
</section>
<section id="looking-ahead-1" class="slide level2 smaller">
<h2>Looking Ahead</h2>
<hr>
<ul>
<li>Next week:
<ul>
<li>Final Project Presentations!</li>
<li>3 min presentation of your final project
<ul>
<li>1 overview slide, 2 plots</li>
</ul></li>
</ul></li>
<li>Homework:
<ul>
<li>Complete slides in shared Google Slides by Wednesday night</li>
<li>Complete PingPong post test by Wednesday night</li>
<li>Complete TN Voice</li>
<li>Final project Canvas submissions due 5/9, 11:59pm</li>
</ul></li>
</ul>
<!-- ## Looking Ahead -->
<!-- <hr> -->
<!-- * Assignment: Mapping ACS & Census Data -->
<!-- * Readings: -->
<!--   * Leaflet: -->
<!--       * [Goldstein-Greenwood, J. (2020)](https://library.virginia.edu/data/articles/data-scientist-as-cartographer-an-introduction-to-making-interactive-maps-in-r-with-leaflet) -->
<!--       * [R Coder (2024)](https://r-charts.com/spatial/interactive-maps-leaflet/) -->
<!--   * plot_ly: -->
<!--       * [Sievert, C. (2019), Chapter 2](https://plotly-r.com/overview) -->
<!--       * [Sievert, C. (2019), Chapter 4](https://plotly-r.com/maps) -->
<!-- ## Other data sources{.smaller} -->
<!-- <hr> -->
<!-- * The USAboundaries package, [https://github.com/ropensci/USAboundaries](https://github.com/ropensci/USAboundaries) contains state, county and zip code data for the US -->
<!-- * The rnaturalearth package (South 2017) bundles up the free, high-quality data from [https://naturalearthdata.com/](https://naturalearthdata.com/) -->
<!-- * The osmar package, [https://cran.r-project.org/package=osmar](https://cran.r-project.org/package=osmar) wraps up the OpenStreetMap API so you can access a wide range of vector data including individual streets and buildings -->
<!-- ## Sources of `.shp` files{.smaller} -->
<!-- <hr> -->
<!-- :::{layout="[1,1]"} -->
<!-- :::{column} -->
<!-- - [IPUMS](https://international.ipums.org/international/gis.shtml) -->
<!-- - [GADM](https://gadm.org/) -->
<!-- - [Natural Earth](https://www.naturalearthdata.com/downloads/) -->
<!-- - [Eurostat](https://ec.europa.eu/eurostat/web/gisco/geodata) -->

<!-- - [OpenDataSoft](https://public.opendatasoft.com/explore/dataset/world-administrative-boundaries/table/?location=2,42.07882,0.00845&basemap=jawg.light) -->
<!-- ::: -->
<!-- :::{column} -->
<!-- - [Free GIS Data](https://freegisdata.rtwilson.com/) -->
<!-- - [Geofabrik/OSM Data](https://download.geofabrik.de/) -->
<!-- - [U.S. Census Bureau](https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html) -->
<!-- - [SimpleMaps](https://simplemaps.com/data/world-cities) -->
<!-- - [NCES](https://nces.ed.gov/programs/edge/Geographic/DistrictBoundaries) -->
<!-- ::: -->
<!-- ::: -->
<div class="footer footer-default">
<p>UTK Educational Data Science</p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="slides_fall24_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="slides_fall24_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="slides_fall24_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="slides_fall24_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="slides_fall24_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="slides_fall24_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="slides_fall24_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="slides_fall24_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="slides_fall24_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="slides_fall24_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>