<!DOCTYPE html>
<html lang="en"><head>
<script src="slides_files/libs/clipboard/clipboard.min.js"></script>
<script src="slides_files/libs/quarto-html/tabby.min.js"></script>
<script src="slides_files/libs/quarto-html/popper.min.js"></script>
<script src="slides_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="slides_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="slides_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="slides_files/libs/quarto-html/quarto-syntax-highlighting-1b3e43c72e8be34557c75123b0b69e0d.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <meta name="author" content="Dr.&nbsp;Kelly Boles &amp; Dr.&nbsp;Zhen Xu">
  <title>Week 9 - STEM 691</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {  background-color: #f8f8f8; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ef2929; } /* Alert */
    code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #204a87; } /* Attribute */
    code span.bn { color: #0000cf; } /* BaseN */
    code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4e9a06; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #8f5902; font-style: italic; } /* Comment */
    code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
    code span.dt { color: #204a87; } /* DataType */
    code span.dv { color: #0000cf; } /* DecVal */
    code span.er { color: #a40000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #0000cf; } /* Float */
    code span.fu { color: #204a87; font-weight: bold; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
    code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
    code span.ot { color: #8f5902; } /* Other */
    code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
    code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
    code span.ss { color: #4e9a06; } /* SpecialString */
    code span.st { color: #4e9a06; } /* String */
    code span.va { color: #000000; } /* Variable */
    code span.vs { color: #4e9a06; } /* VerbatimString */
    code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/theme/quarto-d21a626542045e24fd9e2a46a94419b5.css">
  <link href="slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="slides_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
  <script src="slides_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
  <script src="slides_files/libs/plotly-binding-4.10.4/plotly.js"></script>
  <script src="slides_files/libs/typedarray-0.1/typedarray.min.js"></script>
  <script src="slides_files/libs/jquery-3.5.1/jquery.min.js"></script>
  <link href="slides_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
  <script src="slides_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
  <link href="slides_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
  <script src="slides_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="#4B4B4B" data-background-image="slides_images/UnitShortcut.png" data-background-position="50% 9%" data-background-size="50%" class="quarto-title-block center">
  <h1 class="title">Week 9 - STEM 691</h1>
  <p class="subtitle">Text and Fonts in {ggplot2}</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Dr.&nbsp;Kelly Boles &amp; Dr.&nbsp;Zhen Xu 
</div>
</div>
</div>

</section>
<section id="weekly-check-in-download-.zip" class="title-slide slide level1 center">
<h1>Weekly Check In/ <br>Download <code>.zip</code></h1>

</section>

<section>
<section id="start-recording" class="title-slide slide level1 center">
<h1>Start Recording</h1>

</section>
<section id="todays-agenda" class="slide level2">
<h2>Today’s Agenda</h2>
<hr>
<div class="smaller-font">
<ul>
<li>Weekly Check In</li>
<li>Review / Foundational Skills
<ul>
<li>“squished plots”</li>
<li>plotly</li>
</ul></li>
<li>Basic Principles</li>
<li><code>theme()</code> + text</li>
<li><code>scale_*_*</code></li>
<li>Text <code>geom_*()</code>s</li>
<li>Fonts</li>
<li>Collaborative Practice</li>
<li>Mini-Project #2</li>
<li>Looking Ahead</li>
</ul>
</div>
</section>
<section id="norms" class="slide level2">
<h2>Norms</h2>
<hr>
<div class="compact-font">
<table class="caption-top">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>In person norms</th>
<th>And also, for online learning…</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Be fully present to each other &amp; the work.</td>
<td>Keep your video on when possible. In large groups, mute your microphone when not talking. Close/mute/minimize other apps and devices to avoid distraction.</td>
</tr>
<tr class="even">
<td>Assume positive intent &amp; also take responsibility for the impact you have.</td>
<td>Remember online interaction masks even more of the full story. Notice when you are making assumptions, and seek information to check them.</td>
</tr>
<tr class="odd">
<td>Embrace collaboration.</td>
<td>Use the gallery view so you can see everyone. Use breakout groups as an opportunity to collaborate.</td>
</tr>
<tr class="even">
<td>Be open to learning and accept non-closure.</td>
<td>Expect the inevitable technical glitches and learning curves. Exercise patience with one another.</td>
</tr>
<tr class="odd">
<td>Be aware of when to step up and step back. When stepping back, do so as an active listener.</td>
<td>Try out different modes of participation. Step back by making space for others to engage in these.</td>
</tr>
<tr class="even">
<td>Land your plane–get to the point you intended.</td>
<td>We all know how hard it is to be talked at, especially in a Zoom session, so let’s keep it to a minimum.</td>
</tr>
</tbody>
</table>
</div>
</section></section>
<section>
<section id="review-foundational-skills" class="title-slide slide level1 center">
<h1>Review / Foundational Skills</h1>

</section>
<section id="squished-plots" class="slide level2 smaller">
<h2>“Squished Plots”</h2>
<hr>
<ul>
<li>Some of your have been experiencing “squished” plots
<ul>
<li>Often happens when you have a plots with lots of panels (facets), or combined plots with {patchwork} and {cowplot}</li>
</ul></li>
</ul>
</section>
<section id="squished-plots-1" class="slide level2 smaller">
<h2>“Squished Plots”</h2>
<hr>
<ul>
<li>How can you fix this?
<ol type="1">
<li>In YAML Header:</li>
</ol>
<ul>
<li>Added out-width: “100%”
<ul>
<li>Makes plots the full width of the document (default is 80%)</li>
</ul></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a><span class="sc">---</span></span>
<span id="cb1-2"><a href=""></a>title<span class="sc">:</span> <span class="st">"Untitled"</span></span>
<span id="cb1-3"><a href=""></a>author<span class="sc">:</span> <span class="st">"Fabulous Student"</span></span>
<span id="cb1-4"><a href=""></a>date<span class="sc">:</span> <span class="st">"2025-10-15"</span></span>
<span id="cb1-5"><a href=""></a>format<span class="sc">:</span></span>
<span id="cb1-6"><a href=""></a>  html<span class="sc">:</span></span>
<span id="cb1-7"><a href=""></a>    embed<span class="sc">-</span>resources<span class="sc">:</span> true</span>
<span id="cb1-8"><a href=""></a>execute<span class="sc">:</span></span>
<span id="cb1-9"><a href=""></a>    warning<span class="sc">:</span> false</span>
<span id="cb1-10"><a href=""></a>    message<span class="sc">:</span> false</span>
<span id="cb1-11"><a href=""></a>    out<span class="sc">-</span>width<span class="sc">:</span> <span class="st">"100%"</span></span>
<span id="cb1-12"><a href=""></a><span class="sc">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="squished-plots-2" class="slide level2 smaller">
<h2>“Squished Plots”</h2>
<hr>
<ul>
<li>How can you fix this?
<ol start="2" type="1">
<li>In code cell where you create the plot:</li>
</ol>
<ul>
<li>Set fig-width: and fig-height:</li>
<li>Otherwise, <a href="https://quarto.org/docs/computations/execution-options.html#figure-options">defaults to 7 and 5 (in)</a></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href=""></a><span class="co">#| fig-width: 8</span></span>
<span id="cb2-2"><a href=""></a><span class="co">#| fig-height: 6</span></span>
<span id="cb2-3"><a href=""></a></span>
<span id="cb2-4"><a href=""></a>p <span class="ot">&lt;-</span> tidykids <span class="sc">|&gt;</span></span>
<span id="cb2-5"><a href=""></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2016</span>,</span>
<span id="cb2-6"><a href=""></a>         expenditure <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"PK12ed"</span>,<span class="st">"SNAP"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb2-7"><a href=""></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> expenditure, <span class="at">values_from =</span> inf_adj_perchild) <span class="sc">|&gt;</span></span>
<span id="cb2-8"><a href=""></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span> SNAP, <span class="at">y=</span> PK12ed)) <span class="sc">+</span></span>
<span id="cb2-9"><a href=""></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"blue"</span>)</span>
<span id="cb2-10"><a href=""></a></span>
<span id="cb2-11"><a href=""></a>p</span>
<span id="cb2-12"><a href=""></a><span class="sc">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Can also set this in the YAML header (under embed-resources) to change the default size and not have to do it in each code cell</li>
</ul>
</section></section>
<section>
<section id="mini-project-1" class="title-slide slide level1 center">
<h1>Mini Project #1</h1>

</section>
<section id="mini-project-1-1" class="slide level2">
<h2>Mini Project #1</h2>
<hr>
<ul>
<li>Great work!</li>
<li>Lots of really nice plots</li>
</ul>
</section>
<section id="mini-project-1-plotly" class="slide level2">
<h2>Mini Project #1 &amp; {plotly}</h2>
<hr>
<div class="smaller-font">
<div class="quarto-layout-panel" data-layout="[1,1]">
<div class="quarto-layout-row">
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<ul>
<li>{plotly} is a package that can make your ggplot interactive</li>
</ul>
<ol type="1">
<li>Make the plot first</li>
<li>Store it to an object like <code>p</code></li>
<li>Call <code>ggploty(p)</code></li>
</ol>
</div>
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a>p <span class="ot">&lt;-</span> tidykids <span class="sc">|&gt;</span></span>
<span id="cb3-2"><a href=""></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2016</span>,</span>
<span id="cb3-3"><a href=""></a>         expenditure <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"PK12ed"</span>,<span class="st">"SNAP"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb3-4"><a href=""></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> expenditure, <span class="at">values_from =</span> inf_adj_perchild) <span class="sc">|&gt;</span></span>
<span id="cb3-5"><a href=""></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span> SNAP, <span class="at">y=</span> PK12ed)) <span class="sc">+</span></span>
<span id="cb3-6"><a href=""></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"blue"</span>)</span>
<span id="cb3-7"><a href=""></a></span>
<span id="cb3-8"><a href=""></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="slides_files/figure-revealjs/unnamed-chunk-2-1.png" class="quarto-figure quarto-figure-center" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="mini-project-1-plotly-1" class="slide level2">
<h2>Mini Project #1 &amp; {plotly}</h2>
<hr>
<div class="smaller-font">
<div class="quarto-layout-panel" data-layout="[1,1]">
<div class="quarto-layout-row">
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<ul>
<li>{plotly} is a package that can make your ggplot interactive</li>
</ul>
<ol type="1">
<li>Make the plot first</li>
<li>Store it to an object like <code>p</code></li>
<li>Call <code>ggploty(p)</code></li>
</ol>
</div>
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href=""></a><span class="co">#install.packages("plotly")</span></span>
<span id="cb4-2"><a href=""></a><span class="fu">library</span>(plotly)</span>
<span id="cb4-3"><a href=""></a></span>
<span id="cb4-4"><a href=""></a>p <span class="ot">&lt;-</span> tidykids <span class="sc">|&gt;</span></span>
<span id="cb4-5"><a href=""></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2016</span>,</span>
<span id="cb4-6"><a href=""></a>         expenditure <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"PK12ed"</span>,<span class="st">"SNAP"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb4-7"><a href=""></a>  <span class="fu">select</span>(<span class="sc">-</span>raw,<span class="sc">-</span>inf_adj) <span class="sc">|&gt;</span></span>
<span id="cb4-8"><a href=""></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> expenditure, <span class="at">values_from =</span> inf_adj_perchild) <span class="sc">|&gt;</span></span>
<span id="cb4-9"><a href=""></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span> SNAP, <span class="at">y=</span> PK12ed)) <span class="sc">+</span></span>
<span id="cb4-10"><a href=""></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb4-11"><a href=""></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_currency</span>()) <span class="sc">+</span></span>
<span id="cb4-12"><a href=""></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_currency</span>())</span>
<span id="cb4-13"><a href=""></a></span>
<span id="cb4-14"><a href=""></a><span class="fu">ggplotly</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-02f1c8529191c939d869" style="width:576px;height:384px;"></div>
<script type="application/json" data-for="htmlwidget-02f1c8529191c939d869">{"x":{"data":[{"x":[478.40728759765625,381.96044921875,385.27224731445312,360.21807861328125,383.91574096679688,263.37191772460938,303.670654296875,453.250732421875,592.17987060546875,480.0455322265625,473.1365966796875,623.81536865234375,272.19644165039062,405.74822998046875,303.39849853515625,286.95132446289062,217.83413696289062,374.64407348632812,594.961181640625,333.03750610351562,316.79232788085938,279.11404418945312,341.14996337890625,204.63092041015625,480.15802001953125,376.70855712890625,285.9073486328125,234.49467468261719,383.090087890625,173.91177368164062,271.95455932617188,600.8389892578125,419.29345703125,404.45306396484375,188.32652282714844,364.71185302734375,401.362060546875,369.14309692382812,373.40060424804688,430.92318725585938,488.30233764648438,312.585693359375,448.34039306640625,379.7215576171875,164.52777099609375,328.29794311523438,275.5921630859375,326.86038208007812,458.57394409179688,293.16201782226562,168.8162841796875],"y":[5671.33740234375,10626.9833984375,4145.8193359375,5927.89794921875,7165.30029296875,6062.1298828125,10810.3759765625,8438.220703125,17657.533203125,5503.6640625,6248.0166015625,5722.67919921875,4201.13720703125,7732.13427734375,5200.24853515625,7137.3798828125,6009.27978515625,5881.5087890625,6219.203125,8453.9365234375,7328.08642578125,9491.4638671875,6589.7080078125,7341.18994140625,5354.27099609375,6148.11083984375,6667.79443359375,7474.58154296875,5543.25244140625,9824.142578125,11593.923828125,5859.29052734375,12767.29296875,5193.966796875,7546.12109375,7329.43310546875,4895.69921875,6843.224609375,9129.466796875,10197.314453125,6383.6318359375,5296.56982421875,5232.171875,5629.72021484375,4073.48681640625,12033.1904296875,7275.205078125,7177.634765625,7254.24609375,7109.84423828125,10589.4267578125],"text":["SNAP: 478.4073<br />PK12ed:  5671.337","SNAP: 381.9604<br />PK12ed: 10626.983","SNAP: 385.2722<br />PK12ed:  4145.819","SNAP: 360.2181<br />PK12ed:  5927.898","SNAP: 383.9157<br />PK12ed:  7165.300","SNAP: 263.3719<br />PK12ed:  6062.130","SNAP: 303.6707<br />PK12ed: 10810.376","SNAP: 453.2507<br />PK12ed:  8438.221","SNAP: 592.1799<br />PK12ed: 17657.533","SNAP: 480.0455<br />PK12ed:  5503.664","SNAP: 473.1366<br />PK12ed:  6248.017","SNAP: 623.8154<br />PK12ed:  5722.679","SNAP: 272.1964<br />PK12ed:  4201.137","SNAP: 405.7482<br />PK12ed:  7732.134","SNAP: 303.3985<br />PK12ed:  5200.249","SNAP: 286.9513<br />PK12ed:  7137.380","SNAP: 217.8341<br />PK12ed:  6009.280","SNAP: 374.6441<br />PK12ed:  5881.509","SNAP: 594.9612<br />PK12ed:  6219.203","SNAP: 333.0375<br />PK12ed:  8453.937","SNAP: 316.7923<br />PK12ed:  7328.086","SNAP: 279.1140<br />PK12ed:  9491.464","SNAP: 341.1500<br />PK12ed:  6589.708","SNAP: 204.6309<br />PK12ed:  7341.190","SNAP: 480.1580<br />PK12ed:  5354.271","SNAP: 376.7086<br />PK12ed:  6148.111","SNAP: 285.9073<br />PK12ed:  6667.794","SNAP: 234.4947<br />PK12ed:  7474.582","SNAP: 383.0901<br />PK12ed:  5543.252","SNAP: 173.9118<br />PK12ed:  9824.143","SNAP: 271.9546<br />PK12ed: 11593.924","SNAP: 600.8390<br />PK12ed:  5859.291","SNAP: 419.2935<br />PK12ed: 12767.293","SNAP: 404.4531<br />PK12ed:  5193.967","SNAP: 188.3265<br />PK12ed:  7546.121","SNAP: 364.7119<br />PK12ed:  7329.433","SNAP: 401.3621<br />PK12ed:  4895.699","SNAP: 369.1431<br />PK12ed:  6843.225","SNAP: 373.4006<br />PK12ed:  9129.467","SNAP: 430.9232<br />PK12ed: 10197.314","SNAP: 488.3023<br />PK12ed:  6383.632","SNAP: 312.5857<br />PK12ed:  5296.570","SNAP: 448.3404<br />PK12ed:  5232.172","SNAP: 379.7216<br />PK12ed:  5629.720","SNAP: 164.5278<br />PK12ed:  4073.487","SNAP: 328.2979<br />PK12ed: 12033.190","SNAP: 275.5922<br />PK12ed:  7275.205","SNAP: 326.8604<br />PK12ed:  7177.635","SNAP: 458.5739<br />PK12ed:  7254.246","SNAP: 293.1620<br />PK12ed:  7109.844","SNAP: 168.8163<br />PK12ed: 10589.427"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,255,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,255,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.958904109589042,"r":7.3059360730593621,"b":40.913242009132432,"l":66.484018264840202},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[141.56339111328126,646.77974853515627],"tickmode":"array","ticktext":["$200","$300","$400","$500","$600"],"tickvals":[200,300,400,500,600],"categoryorder":"array","categoryarray":["$200","$300","$400","$500","$600"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"SNAP","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[3394.2844970703127,18336.735522460938],"tickmode":"array","ticktext":["$4,000","$8,000","$12,000","$16,000"],"tickvals":[4000,8000,12000,16000],"categoryorder":"array","categoryarray":["$4,000","$8,000","$12,000","$16,000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"PK12ed","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"16f17757b92b9":{"x":{},"y":{},"type":"scatter"}},"cur_data":"16f17757b92b9","visdat":{"16f17757b92b9":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="mini-project-1-plotly-2" class="slide level2">
<h2>Mini Project #1 &amp; {plotly}</h2>
<hr>
<div class="smaller-font">
<div class="quarto-layout-panel" data-layout="[1,1]">
<div class="quarto-layout-row">
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<ul>
<li>{plotly} is a package that can make your ggplot interactive</li>
</ul>
<ol type="1">
<li>Make the plot first</li>
<li>Store it to an object like <code>p</code></li>
<li>Call <code>ggploty(p)</code></li>
</ol>
</div>
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a><span class="co">#install.packages("plotly")</span></span>
<span id="cb5-2"><a href=""></a><span class="fu">library</span>(plotly)</span>
<span id="cb5-3"><a href=""></a></span>
<span id="cb5-4"><a href=""></a>p <span class="ot">&lt;-</span> tidykids <span class="sc">|&gt;</span></span>
<span id="cb5-5"><a href=""></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2016</span>,</span>
<span id="cb5-6"><a href=""></a>         expenditure <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"PK12ed"</span>,<span class="st">"SNAP"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb5-7"><a href=""></a>  <span class="fu">select</span>(<span class="sc">-</span>raw,<span class="sc">-</span>inf_adj) <span class="sc">|&gt;</span></span>
<span id="cb5-8"><a href=""></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> expenditure, <span class="at">values_from =</span> inf_adj_perchild) <span class="sc">|&gt;</span></span>
<span id="cb5-9"><a href=""></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span> SNAP, <span class="at">y=</span> PK12ed, <span class="at">text =</span> <span class="fu">paste0</span>(<span class="st">"State: "</span>, state, <span class="st">"&lt;br&gt;SNAP: "</span>, SNAP,</span>
<span id="cb5-10"><a href=""></a>                                               <span class="st">"&lt;br&gt;PK12Ed: "</span>, PK12ed))) <span class="sc">+</span></span>
<span id="cb5-11"><a href=""></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb5-12"><a href=""></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_currency</span>()) <span class="sc">+</span></span>
<span id="cb5-13"><a href=""></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_currency</span>())</span>
<span id="cb5-14"><a href=""></a></span>
<span id="cb5-15"><a href=""></a><span class="fu">ggplotly</span>(p, <span class="at">tooltip =</span> <span class="st">"text"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-e1c9e6d6df2722ee0738" style="width:480px;height:336px;"></div>
<script type="application/json" data-for="htmlwidget-e1c9e6d6df2722ee0738">{"x":{"data":[{"x":[478.40728759765625,381.96044921875,385.27224731445312,360.21807861328125,383.91574096679688,263.37191772460938,303.670654296875,453.250732421875,592.17987060546875,480.0455322265625,473.1365966796875,623.81536865234375,272.19644165039062,405.74822998046875,303.39849853515625,286.95132446289062,217.83413696289062,374.64407348632812,594.961181640625,333.03750610351562,316.79232788085938,279.11404418945312,341.14996337890625,204.63092041015625,480.15802001953125,376.70855712890625,285.9073486328125,234.49467468261719,383.090087890625,173.91177368164062,271.95455932617188,600.8389892578125,419.29345703125,404.45306396484375,188.32652282714844,364.71185302734375,401.362060546875,369.14309692382812,373.40060424804688,430.92318725585938,488.30233764648438,312.585693359375,448.34039306640625,379.7215576171875,164.52777099609375,328.29794311523438,275.5921630859375,326.86038208007812,458.57394409179688,293.16201782226562,168.8162841796875],"y":[5671.33740234375,10626.9833984375,4145.8193359375,5927.89794921875,7165.30029296875,6062.1298828125,10810.3759765625,8438.220703125,17657.533203125,5503.6640625,6248.0166015625,5722.67919921875,4201.13720703125,7732.13427734375,5200.24853515625,7137.3798828125,6009.27978515625,5881.5087890625,6219.203125,8453.9365234375,7328.08642578125,9491.4638671875,6589.7080078125,7341.18994140625,5354.27099609375,6148.11083984375,6667.79443359375,7474.58154296875,5543.25244140625,9824.142578125,11593.923828125,5859.29052734375,12767.29296875,5193.966796875,7546.12109375,7329.43310546875,4895.69921875,6843.224609375,9129.466796875,10197.314453125,6383.6318359375,5296.56982421875,5232.171875,5629.72021484375,4073.48681640625,12033.1904296875,7275.205078125,7177.634765625,7254.24609375,7109.84423828125,10589.4267578125],"text":["State: Alabama<br>SNAP: 478.407287597656<br>PK12Ed: 5671.33740234375","State: Alaska<br>SNAP: 381.96044921875<br>PK12Ed: 10626.9833984375","State: Arizona<br>SNAP: 385.272247314453<br>PK12Ed: 4145.8193359375","State: Arkansas<br>SNAP: 360.218078613281<br>PK12Ed: 5927.89794921875","State: California<br>SNAP: 383.915740966797<br>PK12Ed: 7165.30029296875","State: Colorado<br>SNAP: 263.371917724609<br>PK12Ed: 6062.1298828125","State: Connecticut<br>SNAP: 303.670654296875<br>PK12Ed: 10810.3759765625","State: Delaware<br>SNAP: 453.250732421875<br>PK12Ed: 8438.220703125","State: District of Columbia<br>SNAP: 592.179870605469<br>PK12Ed: 17657.533203125","State: Florida<br>SNAP: 480.045532226562<br>PK12Ed: 5503.6640625","State: Georgia<br>SNAP: 473.136596679688<br>PK12Ed: 6248.0166015625","State: Hawaii<br>SNAP: 623.815368652344<br>PK12Ed: 5722.67919921875","State: Idaho<br>SNAP: 272.196441650391<br>PK12Ed: 4201.13720703125","State: Illinois<br>SNAP: 405.748229980469<br>PK12Ed: 7732.13427734375","State: Indiana<br>SNAP: 303.398498535156<br>PK12Ed: 5200.24853515625","State: Iowa<br>SNAP: 286.951324462891<br>PK12Ed: 7137.3798828125","State: Kansas<br>SNAP: 217.834136962891<br>PK12Ed: 6009.27978515625","State: Kentucky<br>SNAP: 374.644073486328<br>PK12Ed: 5881.5087890625","State: Louisiana<br>SNAP: 594.961181640625<br>PK12Ed: 6219.203125","State: Maine<br>SNAP: 333.037506103516<br>PK12Ed: 8453.9365234375","State: Maryland<br>SNAP: 316.792327880859<br>PK12Ed: 7328.08642578125","State: Massachusetts<br>SNAP: 279.114044189453<br>PK12Ed: 9491.4638671875","State: Michigan<br>SNAP: 341.149963378906<br>PK12Ed: 6589.7080078125","State: Minnesota<br>SNAP: 204.630920410156<br>PK12Ed: 7341.18994140625","State: Mississippi<br>SNAP: 480.158020019531<br>PK12Ed: 5354.27099609375","State: Missouri<br>SNAP: 376.708557128906<br>PK12Ed: 6148.11083984375","State: Montana<br>SNAP: 285.907348632812<br>PK12Ed: 6667.79443359375","State: Nebraska<br>SNAP: 234.494674682617<br>PK12Ed: 7474.58154296875","State: Nevada<br>SNAP: 383.090087890625<br>PK12Ed: 5543.25244140625","State: New Hampshire<br>SNAP: 173.911773681641<br>PK12Ed: 9824.142578125","State: New Jersey<br>SNAP: 271.954559326172<br>PK12Ed: 11593.923828125","State: New Mexico<br>SNAP: 600.838989257812<br>PK12Ed: 5859.29052734375","State: New York<br>SNAP: 419.29345703125<br>PK12Ed: 12767.29296875","State: North Carolina<br>SNAP: 404.453063964844<br>PK12Ed: 5193.966796875","State: North Dakota<br>SNAP: 188.326522827148<br>PK12Ed: 7546.12109375","State: Ohio<br>SNAP: 364.711853027344<br>PK12Ed: 7329.43310546875","State: Oklahoma<br>SNAP: 401.362060546875<br>PK12Ed: 4895.69921875","State: Oregon<br>SNAP: 369.143096923828<br>PK12Ed: 6843.224609375","State: Pennsylvania<br>SNAP: 373.400604248047<br>PK12Ed: 9129.466796875","State: Rhode Island<br>SNAP: 430.923187255859<br>PK12Ed: 10197.314453125","State: South Carolina<br>SNAP: 488.302337646484<br>PK12Ed: 6383.6318359375","State: South Dakota<br>SNAP: 312.585693359375<br>PK12Ed: 5296.56982421875","State: Tennessee<br>SNAP: 448.340393066406<br>PK12Ed: 5232.171875","State: Texas<br>SNAP: 379.721557617188<br>PK12Ed: 5629.72021484375","State: Utah<br>SNAP: 164.527770996094<br>PK12Ed: 4073.48681640625","State: Vermont<br>SNAP: 328.297943115234<br>PK12Ed: 12033.1904296875","State: Virginia<br>SNAP: 275.592163085938<br>PK12Ed: 7275.205078125","State: Washington<br>SNAP: 326.860382080078<br>PK12Ed: 7177.634765625","State: West Virginia<br>SNAP: 458.573944091797<br>PK12Ed: 7254.24609375","State: Wisconsin<br>SNAP: 293.162017822266<br>PK12Ed: 7109.84423828125","State: Wyoming<br>SNAP: 168.816284179688<br>PK12Ed: 10589.4267578125"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,255,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,255,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.437051532941947,"r":7.3059360730593621,"b":40.391389432485333,"l":66.484018264840202},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[141.56339111328126,646.77974853515627],"tickmode":"array","ticktext":["$200","$300","$400","$500","$600"],"tickvals":[200,300,400,500,600],"categoryorder":"array","categoryarray":["$200","$300","$400","$500","$600"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"SNAP","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[3394.2844970703127,18336.735522460938],"tickmode":"array","ticktext":["$4,000","$8,000","$12,000","$16,000"],"tickvals":[4000,8000,12000,16000],"categoryorder":"array","categoryarray":["$4,000","$8,000","$12,000","$16,000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"PK12ed","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"16f1776a308a0":{"x":{},"y":{},"text":{},"type":"scatter"}},"cur_data":"16f1776a308a0","visdat":{"16f1776a308a0":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="mini-project-1-plotly-3" class="slide level2">
<h2>Mini Project #1 &amp; {plotly}</h2>
<hr>
<div class="smaller-font">
<div class="quarto-layout-panel" data-layout="[1,1]">
<div class="quarto-layout-row">
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<ul>
<li>{plotly} is a package that can make your ggplot interactive</li>
</ul>
<ol type="1">
<li>Make the plot first</li>
<li>Store it to an object like <code>p</code></li>
<li>Call <code>ggploty(p)</code></li>
</ol>
</div>
<div class="{column} quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a><span class="co">#install.packages("plotly")</span></span>
<span id="cb6-2"><a href=""></a><span class="fu">library</span>(plotly)</span>
<span id="cb6-3"><a href=""></a></span>
<span id="cb6-4"><a href=""></a>p <span class="ot">&lt;-</span> tidykids <span class="sc">|&gt;</span></span>
<span id="cb6-5"><a href=""></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2016</span>,</span>
<span id="cb6-6"><a href=""></a>         expenditure <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"PK12ed"</span>,<span class="st">"SNAP"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb6-7"><a href=""></a>  <span class="fu">select</span>(<span class="sc">-</span>raw,<span class="sc">-</span>inf_adj) <span class="sc">|&gt;</span></span>
<span id="cb6-8"><a href=""></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> expenditure, <span class="at">values_from =</span> inf_adj_perchild) <span class="sc">|&gt;</span></span>
<span id="cb6-9"><a href=""></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span> SNAP, <span class="at">y=</span> PK12ed, <span class="at">text =</span> <span class="fu">paste0</span>(<span class="st">"State: "</span>,state,<span class="st">"&lt;br&gt;SNAP: "</span>,</span>
<span id="cb6-10"><a href=""></a>                                               scales<span class="sc">::</span><span class="fu">dollar</span>(SNAP),<span class="st">"&lt;br&gt;PK12Ed: "</span>,</span>
<span id="cb6-11"><a href=""></a>                                               scales<span class="sc">::</span><span class="fu">dollar</span>(PK12ed)))) <span class="sc">+</span></span>
<span id="cb6-12"><a href=""></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb6-13"><a href=""></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_currency</span>()) <span class="sc">+</span></span>
<span id="cb6-14"><a href=""></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_currency</span>())</span>
<span id="cb6-15"><a href=""></a></span>
<span id="cb6-16"><a href=""></a><span class="fu">ggplotly</span>(p, <span class="at">tooltip =</span> <span class="st">"text"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-8a44e902f55ade7156d0" style="width:480px;height:336px;"></div>
<script type="application/json" data-for="htmlwidget-8a44e902f55ade7156d0">{"x":{"data":[{"x":[478.40728759765625,381.96044921875,385.27224731445312,360.21807861328125,383.91574096679688,263.37191772460938,303.670654296875,453.250732421875,592.17987060546875,480.0455322265625,473.1365966796875,623.81536865234375,272.19644165039062,405.74822998046875,303.39849853515625,286.95132446289062,217.83413696289062,374.64407348632812,594.961181640625,333.03750610351562,316.79232788085938,279.11404418945312,341.14996337890625,204.63092041015625,480.15802001953125,376.70855712890625,285.9073486328125,234.49467468261719,383.090087890625,173.91177368164062,271.95455932617188,600.8389892578125,419.29345703125,404.45306396484375,188.32652282714844,364.71185302734375,401.362060546875,369.14309692382812,373.40060424804688,430.92318725585938,488.30233764648438,312.585693359375,448.34039306640625,379.7215576171875,164.52777099609375,328.29794311523438,275.5921630859375,326.86038208007812,458.57394409179688,293.16201782226562,168.8162841796875],"y":[5671.33740234375,10626.9833984375,4145.8193359375,5927.89794921875,7165.30029296875,6062.1298828125,10810.3759765625,8438.220703125,17657.533203125,5503.6640625,6248.0166015625,5722.67919921875,4201.13720703125,7732.13427734375,5200.24853515625,7137.3798828125,6009.27978515625,5881.5087890625,6219.203125,8453.9365234375,7328.08642578125,9491.4638671875,6589.7080078125,7341.18994140625,5354.27099609375,6148.11083984375,6667.79443359375,7474.58154296875,5543.25244140625,9824.142578125,11593.923828125,5859.29052734375,12767.29296875,5193.966796875,7546.12109375,7329.43310546875,4895.69921875,6843.224609375,9129.466796875,10197.314453125,6383.6318359375,5296.56982421875,5232.171875,5629.72021484375,4073.48681640625,12033.1904296875,7275.205078125,7177.634765625,7254.24609375,7109.84423828125,10589.4267578125],"text":["State: Alabama<br>SNAP: $478.41<br>PK12Ed: $5,671.34","State: Alaska<br>SNAP: $381.96<br>PK12Ed: $10,626.98","State: Arizona<br>SNAP: $385.27<br>PK12Ed: $4,145.82","State: Arkansas<br>SNAP: $360.22<br>PK12Ed: $5,927.90","State: California<br>SNAP: $383.92<br>PK12Ed: $7,165.30","State: Colorado<br>SNAP: $263.37<br>PK12Ed: $6,062.13","State: Connecticut<br>SNAP: $303.67<br>PK12Ed: $10,810.38","State: Delaware<br>SNAP: $453.25<br>PK12Ed: $8,438.22","State: District of Columbia<br>SNAP: $592.18<br>PK12Ed: $17,657.53","State: Florida<br>SNAP: $480.05<br>PK12Ed: $5,503.66","State: Georgia<br>SNAP: $473.14<br>PK12Ed: $6,248.02","State: Hawaii<br>SNAP: $623.82<br>PK12Ed: $5,722.68","State: Idaho<br>SNAP: $272.20<br>PK12Ed: $4,201.14","State: Illinois<br>SNAP: $405.75<br>PK12Ed: $7,732.13","State: Indiana<br>SNAP: $303.40<br>PK12Ed: $5,200.25","State: Iowa<br>SNAP: $286.95<br>PK12Ed: $7,137.38","State: Kansas<br>SNAP: $217.83<br>PK12Ed: $6,009.28","State: Kentucky<br>SNAP: $374.64<br>PK12Ed: $5,881.51","State: Louisiana<br>SNAP: $594.96<br>PK12Ed: $6,219.20","State: Maine<br>SNAP: $333.04<br>PK12Ed: $8,453.94","State: Maryland<br>SNAP: $316.79<br>PK12Ed: $7,328.09","State: Massachusetts<br>SNAP: $279.11<br>PK12Ed: $9,491.46","State: Michigan<br>SNAP: $341.15<br>PK12Ed: $6,589.71","State: Minnesota<br>SNAP: $204.63<br>PK12Ed: $7,341.19","State: Mississippi<br>SNAP: $480.16<br>PK12Ed: $5,354.27","State: Missouri<br>SNAP: $376.71<br>PK12Ed: $6,148.11","State: Montana<br>SNAP: $285.91<br>PK12Ed: $6,667.79","State: Nebraska<br>SNAP: $234.49<br>PK12Ed: $7,474.58","State: Nevada<br>SNAP: $383.09<br>PK12Ed: $5,543.25","State: New Hampshire<br>SNAP: $173.91<br>PK12Ed: $9,824.14","State: New Jersey<br>SNAP: $271.95<br>PK12Ed: $11,593.92","State: New Mexico<br>SNAP: $600.84<br>PK12Ed: $5,859.29","State: New York<br>SNAP: $419.29<br>PK12Ed: $12,767.29","State: North Carolina<br>SNAP: $404.45<br>PK12Ed: $5,193.97","State: North Dakota<br>SNAP: $188.33<br>PK12Ed: $7,546.12","State: Ohio<br>SNAP: $364.71<br>PK12Ed: $7,329.43","State: Oklahoma<br>SNAP: $401.36<br>PK12Ed: $4,895.70","State: Oregon<br>SNAP: $369.14<br>PK12Ed: $6,843.22","State: Pennsylvania<br>SNAP: $373.40<br>PK12Ed: $9,129.47","State: Rhode Island<br>SNAP: $430.92<br>PK12Ed: $10,197.31","State: South Carolina<br>SNAP: $488.30<br>PK12Ed: $6,383.63","State: South Dakota<br>SNAP: $312.59<br>PK12Ed: $5,296.57","State: Tennessee<br>SNAP: $448.34<br>PK12Ed: $5,232.17","State: Texas<br>SNAP: $379.72<br>PK12Ed: $5,629.72","State: Utah<br>SNAP: $164.53<br>PK12Ed: $4,073.49","State: Vermont<br>SNAP: $328.30<br>PK12Ed: $12,033.19","State: Virginia<br>SNAP: $275.59<br>PK12Ed: $7,275.21","State: Washington<br>SNAP: $326.86<br>PK12Ed: $7,177.63","State: West Virginia<br>SNAP: $458.57<br>PK12Ed: $7,254.25","State: Wisconsin<br>SNAP: $293.16<br>PK12Ed: $7,109.84","State: Wyoming<br>SNAP: $168.82<br>PK12Ed: $10,589.43"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,255,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,255,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.437051532941947,"r":7.3059360730593621,"b":40.391389432485333,"l":66.484018264840202},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[141.56339111328126,646.77974853515627],"tickmode":"array","ticktext":["$200","$300","$400","$500","$600"],"tickvals":[200,300,400,500,600],"categoryorder":"array","categoryarray":["$200","$300","$400","$500","$600"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"SNAP","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[3394.2844970703127,18336.735522460938],"tickmode":"array","ticktext":["$4,000","$8,000","$12,000","$16,000"],"tickvals":[4000,8000,12000,16000],"categoryorder":"array","categoryarray":["$4,000","$8,000","$12,000","$16,000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"PK12ed","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"16f172fc97254":{"x":{},"y":{},"text":{},"type":"scatter"}},"cur_data":"16f172fc97254","visdat":{"16f172fc97254":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- ## `case_when()`{.smallest}
<hr>
::::::{.extra-small-font}
- We've used `case_when()` (with `mutate()`) quite a bit before, but it can do even more!


::: {.cell layout-align="center"}
::: {.cell-output .cell-output-stdout}

```
# A tibble: 3 × 1
      x
  <int>
1     1
2     2
3    NA
```


:::
:::


:::{layout=[1,1]}
::::{column}
Simple Case

::: {.cell layout-align="center"}

```{.r .cell-code}
toy |>
  mutate(y = case_when(
    x == 1 ~ "one",
    x == 2 ~ "two"
  ))
```

::: {.cell-output .cell-output-stdout}

```
# A tibble: 3 × 2
      x y    
  <int> <chr>
1     1 one  
2     2 two  
3    NA <NA> 
```


:::
:::



::::
::::{column}



::::
:::
::::::

## `case_when()`{.smallest}
<hr>
::::::{.extra-small-font}
- We've used `case_when()` (with `mutate()`) quite a bit before, but it can do even more!


::: {.cell layout-align="center"}
::: {.cell-output .cell-output-stdout}

```
# A tibble: 3 × 1
      x
  <int>
1     1
2     2
3    NA
```


:::
:::


:::{layout=[1,1]}
::::{column}
Simple Case

::: {.cell layout-align="center"}

```{.r .cell-code}
toy |>
  mutate(y = case_when(
    x == 1 ~ "one",
    x == 2 ~ "two"
  ))
```

::: {.cell-output .cell-output-stdout}

```
# A tibble: 3 × 2
      x y    
  <int> <chr>
1     1 one  
2     2 two  
3    NA <NA> 
```


:::
:::



::::
::::{column}
Simple Case + Re-use Variable

::: {.cell layout-align="center"}

```{.r .cell-code}
toy |>
  mutate(y = case_when(
    x == 1 ~ 0,
    .default = x
  ))
```

::: {.cell-output .cell-output-stdout}

```
# A tibble: 3 × 2
      x     y
  <int> <dbl>
1     1     0
2     2     2
3    NA    NA
```


:::
:::



::::
:::
::::::

## `case_when()`{.smallest}
<hr>
::::::{.extra-small-font}
- We've used `case_when()` (with `mutate()`) quite a bit before, but it can do even more!


::: {.cell layout-align="center"}
::: {.cell-output .cell-output-stdout}

```
# A tibble: 3 × 1
      x
  <int>
1     1
2     2
3    NA
```


:::
:::


:::{layout=[1,1]}
::::{column}
Simple Case

::: {.cell layout-align="center"}

```{.r .cell-code}
toy |>
  mutate(y = case_when(
    x == 1 ~ "one",
    x == 2 ~ "two"
  ))
```

::: {.cell-output .cell-output-stdout}

```
# A tibble: 3 × 2
      x y    
  <int> <chr>
1     1 one  
2     2 two  
3    NA <NA> 
```


:::
:::


Simple Case + Catch All (Note: NAs)

::: {.cell layout-align="center"}

```{.r .cell-code}
toy |>
  mutate(y = case_when(
    x == 1 ~ "one",
    .default = "not one"
  ))
```

::: {.cell-output .cell-output-stdout}

```
# A tibble: 3 × 2
      x y      
  <int> <chr>  
1     1 one    
2     2 not one
3    NA not one
```


:::
:::

::::
::::{column}
Simple Case + Re-use Variable

::: {.cell layout-align="center"}

```{.r .cell-code}
toy |>
  mutate(y = case_when(
    x == 1 ~ 0,
    .default = x
  ))
```

::: {.cell-output .cell-output-stdout}

```
# A tibble: 3 × 2
      x     y
  <int> <dbl>
1     1     0
2     2     2
3    NA    NA
```


:::
:::



::::
:::
::::::

## `case_when()`{.smallest}
<hr>
::::::{.extra-small-font}
- We've used `case_when()` (with `mutate()`) quite a bit before, but it can do even more!


::: {.cell layout-align="center"}
::: {.cell-output .cell-output-stdout}

```
# A tibble: 3 × 1
      x
  <int>
1     1
2     2
3    NA
```


:::
:::


:::{layout=[1,1]}
::::{column}
Simple Case

::: {.cell layout-align="center"}

```{.r .cell-code}
toy |>
  mutate(y = case_when(
    x == 1 ~ "one",
    x == 2 ~ "two"
  ))
```

::: {.cell-output .cell-output-stdout}

```
# A tibble: 3 × 2
      x y    
  <int> <chr>
1     1 one  
2     2 two  
3    NA <NA> 
```


:::
:::


Simple Case + Catch All (Note: NAs)

::: {.cell layout-align="center"}

```{.r .cell-code}
toy |>
  mutate(y = case_when(
    x == 1 ~ "one",
    .default = "not one"
  ))
```

::: {.cell-output .cell-output-stdout}

```
# A tibble: 3 × 2
      x y      
  <int> <chr>  
1     1 one    
2     2 not one
3    NA not one
```


:::
:::

::::
::::{column}
Simple Case + Re-use Variable

::: {.cell layout-align="center"}

```{.r .cell-code}
toy |>
  mutate(y = case_when(
    x == 1 ~ 0,
    .default = x
  ))
```

::: {.cell-output .cell-output-stdout}

```
# A tibble: 3 × 2
      x     y
  <int> <dbl>
1     1     0
2     2     2
3    NA    NA
```


:::
:::


Simple Case + Catch All + Preserve NAs

::: {.cell layout-align="center"}

```{.r .cell-code}
toy |>
  mutate(y = case_when(
    x == 1 ~ "one",
    is.na(x) ~ NA,
    .default = "not one"
  ))
```

::: {.cell-output .cell-output-stdout}

```
# A tibble: 3 × 2
      x y      
  <int> <chr>  
1     1 one    
2     2 not one
3    NA <NA>   
```


:::
:::

::::
:::
:::::: -->
</section></section>
<section>
<section id="recap-continuing-today" class="title-slide slide level1 center">
<h1>Recap &amp; Continuing Today…</h1>

</section>
<section id="ggplot2-is-our-canvas" class="slide level2">
<h2>{ggplot2} is our canvas</h2>
<hr>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="slides_images/canvas.png" class="quarto-figure quarto-figure-center" width="500"></p>
</figure>
</div>

<aside><div>
<p>Art by <a href="http://desiree.rbind.io/">Desirée De Leon</a>, <a href="https://tinystats.github.io/teacups-giraffes-and-statistics/">CC-BY-NC-ND</a></p>
</div></aside></section>
<section id="text-and-visualization" class="slide level2">
<h2>Text and Visualization</h2>
<hr>
<blockquote>
<p>“Make words and visuals work together effectively — not just showing the data, but explaining the data; helping readers become more visually literate, and reinforcing the main messages the graphic is displaying.”</p>
</blockquote>
<p>— Alberto Cairo</p>
</section>
<section id="text-and-visualization-1" class="slide level2">
<h2>Text and Visualization</h2>
<hr>
<div class="columns">
<div class="column smaller-font" style="width:35%;">
<p>Cairo uses this example of a “rich” plot in his book <em>How Charts Lie</em>:</p>
<ul>
<li>There is a title and a subtitle</li>
<li>There is a easy to understand legend</li>
<li>There are defined x- and y-axes</li>
<li>There is an annotation</li>
<li>There is a caption</li>
<li>All text is horizontal (the way we naturally read)</li>
</ul>
</div><div class="column" style="width:65%;">
<p><img data-src="slides_images/cairo_example@2x.png" width="500"></p>
</div></div>
</section>
<section id="using-christiansen-and-france" class="slide level2 smaller">
<h2>Using Christiansen and France</h2>
<hr>
<ul>
<li>Christiansen, Ch. 9 (2023) and France (2020) provide several suggestions for typographic choices for visualizing data</li>
<li>In groups, we will choose ONE style guide and compare it to Christiansen and France
<ul>
<li>Find your group document on Canvas</li>
<li>Choose your style guide from the list</li>
<li>Review it</li>
<li>Compare its components to Christiansen and France</li>
<li>If you have enough time, compare the guide you chose to another from the list</li>
</ul></li>
<li><em>Choose a spokesperson to report back!</em> <br><strong>BREAKOUT ROOMS (10-15 min)</strong></li>
</ul>
</section>
<section id="aaup-data-today" class="slide level2 smaller">
<h2>AAUP Data Today</h2>
<hr>
<ul>
<li>Same data as last week</li>
</ul>
<div class="smaller-font">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a><span class="co">#remotes::install_github("tidyverse/dsbox")</span></span>
<span id="cb7-2"><a href=""></a><span class="fu">library</span>(dsbox)</span>
<span id="cb7-3"><a href=""></a></span>
<span id="cb7-4"><a href=""></a>staff <span class="ot">&lt;-</span> dsbox<span class="sc">::</span>instructors</span>
<span id="cb7-5"><a href=""></a></span>
<span id="cb7-6"><a href=""></a>staff_long <span class="ot">&lt;-</span> staff <span class="sc">|&gt;</span></span>
<span id="cb7-7"><a href=""></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>year,</span>
<span id="cb7-8"><a href=""></a>               <span class="at">names_to =</span> <span class="st">"position"</span>,</span>
<span id="cb7-9"><a href=""></a>               <span class="at">values_to =</span> <span class="st">"proportion"</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-10"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(<span class="fu">paste0</span>(year, <span class="st">"-01-01"</span>)))</span>
<span id="cb7-11"><a href=""></a></span>
<span id="cb7-12"><a href=""></a>staff_long</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 55 × 4
    year position                   proportion date      
   &lt;dbl&gt; &lt;chr&gt;                           &lt;dbl&gt; &lt;date&gt;    
 1  1975 full_time_tenured                29   1975-01-01
 2  1975 full_time_tenure_track           16.1 1975-01-01
 3  1975 full_time_non_tenure_track       10.3 1975-01-01
 4  1975 part_time                        24   1975-01-01
 5  1975 grad_student                     20.5 1975-01-01
 6  1989 full_time_tenured                27.6 1989-01-01
 7  1989 full_time_tenure_track           11.4 1989-01-01
 8  1989 full_time_non_tenure_track       14.1 1989-01-01
 9  1989 part_time                        30.4 1989-01-01
10  1989 grad_student                     16.5 1989-01-01
# ℹ 45 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="creating-a-plot---column-chart" class="slide level2">
<h2>Creating a Plot - Column Chart</h2>
<hr>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href=""></a>p <span class="ot">&lt;-</span> staff_long <span class="sc">|&gt;</span> </span>
<span id="cb9-2"><a href=""></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2011</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb9-3"><a href=""></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> position, <span class="at">y =</span> proportion, <span class="at">fill =</span> position)) <span class="sc">+</span></span>
<span id="cb9-4"><a href=""></a>  <span class="fu">geom_col</span>()</span>
<span id="cb9-5"><a href=""></a></span>
<span id="cb9-6"><a href=""></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_files/figure-revealjs/unnamed-chunk-21-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="creating-a-plot---custom-palette" class="slide level2">
<h2>Creating a Plot - Custom Palette</h2>
<hr>
<div class="smaller-font">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href=""></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb10-2"><a href=""></a></span>
<span id="cb10-3"><a href=""></a><span class="co"># Chose to reverse the direction of palette as per documentation</span></span>
<span id="cb10-4"><a href=""></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">met.brewer</span>(<span class="st">"Hokusai1"</span>,</span>
<span id="cb10-5"><a href=""></a>                                        <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>))</span>
<span id="cb10-6"><a href=""></a></span>
<span id="cb10-7"><a href=""></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="slides_files/figure-revealjs/unnamed-chunk-22-1.png" class="quarto-figure quarto-figure-center" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="creating-a-plot---adding-some-text" class="slide level2">
<h2>Creating a Plot - Adding Some Text</h2>
<hr>
<div class="smaller-font">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href=""></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span></span>
<span id="cb11-2"><a href=""></a>  <span class="fu">labs</span>(</span>
<span id="cb11-3"><a href=""></a>    <span class="at">title =</span> <span class="st">"Instructional Staff Employment Proportions in 2011"</span>,</span>
<span id="cb11-4"><a href=""></a>    <span class="at">caption =</span> <span class="st">"Source: American Association of University Professors (AAUP)"</span>,</span>
<span id="cb11-5"><a href=""></a>    <span class="at">y =</span> <span class="st">"Percentage"</span>,</span>
<span id="cb11-6"><a href=""></a>    <span class="at">fill =</span> <span class="st">"Position"</span></span>
<span id="cb11-7"><a href=""></a>  )</span>
<span id="cb11-8"><a href=""></a></span>
<span id="cb11-9"><a href=""></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="slides_files/figure-revealjs/unnamed-chunk-23-1.png" class="quarto-figure quarto-figure-center" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="themes-text" class="title-slide slide level1 center">
<h1>Themes + text</h1>

</section>
<section id="recap-themes-in-ggplot2-anatomy" class="slide level2">
<h2>Recap: Themes in {ggplot2} anatomy</h2>
<hr>

<img data-src="slides_images/theme.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="what-does-theme-allow-us-to-edit" class="slide level2">
<h2>What does <code>theme()</code> allow us to edit?</h2>
<hr>
<p>The ‘theme’ involves editing the content that supports the data but does not deliver the quantitative information itself: “data ink”.</p>
<ul>
<li>Text</li>
</ul>
<div class="fragment">
<ul>
<li>Rectangles</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Lines</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Draw nothing</li>
</ul>
</div>
</section>
<section id="theme-allows-us-to-edit-data-ink" class="slide level2 smaller">
<h2><code>theme()</code> allows us to edit data ink</h2>
<hr>
<ul>
<li>Includes text</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12" data-code-line-numbers="|3|4|5|6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href=""></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> </span>
<span id="cb12-2"><a href=""></a>  <span class="fu">theme</span>(</span>
<span id="cb12-3"><a href=""></a>    <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(), <span class="co">#remove lines</span></span>
<span id="cb12-4"><a href=""></a>    <span class="at">panel.background =</span> <span class="fu">element_blank</span>(), <span class="co">#remove rectangles</span></span>
<span id="cb12-5"><a href=""></a>    <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(), <span class="co">#remove text</span></span>
<span id="cb12-6"><a href=""></a>    <span class="co">#legend.position = "none" #odd one - take note</span></span>
<span id="cb12-7"><a href=""></a>  )</span>
<span id="cb12-8"><a href=""></a></span>
<span id="cb12-9"><a href=""></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_files/figure-revealjs/unnamed-chunk-24-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="theme-lets-us-edit-text-elements" class="slide level2 smaller">
<h2><code>theme()</code> lets us edit text elements</h2>
<hr>
<ul>
<li><code>element_text()</code> sets the font size, colour and face of text elements like <code>plot.title</code>.</li>
<li>You can control the font <code>family</code>, <code>face</code>, <code>colour</code>, <code>size</code> (in points), <code>hjust</code>, <code>vjust</code>, <code>angle</code> (in degrees) and <code>lineheight</code>.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb13" data-code-line-numbers="|2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href=""></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span></span>
<span id="cb13-2"><a href=""></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">vjust =</span> .<span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="theme-lets-us-edit-text-elements-1" class="slide level2 smaller">
<h2><code>theme()</code> lets us edit text elements</h2>
<hr>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14" data-code-line-numbers="|2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href=""></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="slides_files/figure-revealjs/unnamed-chunk-26-1.png" class="quarto-figure quarto-figure-center" width="960"></p>
</figure>
</div>
</div>
</div>

<aside><div>
<p>More details on the parameters can be found in <code>vignette("ggplot2-specs")</code>.</p>
</div></aside></section></section>
<section>
<section id="scale__" class="title-slide slide level1 center">
<h1>scale_*_*</h1>

</section>
<section id="scale__-functions-.smaller" class="slide level2">
<h2>scale_*_* functions {.smaller}</h2>
<hr>
<ul>
<li>See the <a href="https://rstudio.github.io/cheatsheets/data-visualization.pdf">{ggplot}</a> cheatsheet for a list of <code>scale_*_*</code> functions</li>
<li>We’ve already used some of these last week to create custom palettes</li>
<li>I think of these like a family of functions
<ul>
<li>Common set of core arguments</li>
</ul></li>
</ul>
</section>
<section id="editing-axes" class="slide level2 smaller">
<h2>Editing axes</h2>
<hr>
<p>We can edit the start/end of axes using <code>scale_*_*</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb15" data-code-line-numbers="|2|3|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href=""></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span></span>
<span id="cb15-2"><a href=""></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>),</span>
<span id="cb15-3"><a href=""></a>                     <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">100</span>,<span class="dv">20</span>),</span>
<span id="cb15-4"><a href=""></a>                     <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(<span class="at">scale=</span><span class="dv">1</span>))</span>
<span id="cb15-5"><a href=""></a></span>
<span id="cb15-6"><a href=""></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_files/figure-revealjs/unnamed-chunk-27-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"><div class="smaller-font">
<ul>
<li>There are <a href="https://scales.r-lib.org/reference/index.html">other <code>label_*()</code> functions</a> too</li>
</ul>
</div>
</section>
<section id="editing-axes-1" class="slide level2 smaller">
<h2>Editing axes</h2>
<hr>
<p>We can also use <code>scale_*_*</code> to edit the labels on the axes.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href=""></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span></span>
<span id="cb16-2"><a href=""></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"full_time_non_tenure_track"</span> <span class="ot">=</span> <span class="st">"Full Time Non-Tenure Track"</span>, </span>
<span id="cb16-3"><a href=""></a>                              <span class="st">"full_time_tenure_track"</span> <span class="ot">=</span> <span class="st">"Full Time Tenure Track"</span>,</span>
<span id="cb16-4"><a href=""></a>                              <span class="st">"full_time_tenured"</span> <span class="ot">=</span> <span class="st">"Full Time Tenured"</span>,</span>
<span id="cb16-5"><a href=""></a>                              <span class="st">"grad_student"</span> <span class="ot">=</span> <span class="st">"Grad Student"</span>,</span>
<span id="cb16-6"><a href=""></a>                              <span class="st">"part_time"</span> <span class="ot">=</span> <span class="st">"Part Time"</span>))</span>
<span id="cb16-7"><a href=""></a></span>
<span id="cb16-8"><a href=""></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_files/figure-revealjs/unnamed-chunk-28-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="editing-axes-2" class="slide level2 smaller">
<h2>Editing axes</h2>
<hr>
<p>We can also use <code>scale_*_*</code> to edit the labels in the legend.</p>
<div class="smaller-font">
<ul>
<li>We already used scale_fill_manual() to create a custom palette with {MetBrewer}, so I’m just adding the labels argument in to what we already had.</li>
</ul>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href=""></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span></span>
<span id="cb17-2"><a href=""></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">met.brewer</span>(<span class="st">"Hokusai1"</span>,</span>
<span id="cb17-3"><a href=""></a>                                        <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb17-4"><a href=""></a>                    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"full_time_non_tenure_track"</span> <span class="ot">=</span> <span class="st">"Full Time Non-Tenure Track"</span>, </span>
<span id="cb17-5"><a href=""></a>                              <span class="st">"full_time_tenure_track"</span> <span class="ot">=</span> <span class="st">"Full Time Tenure Track"</span>,</span>
<span id="cb17-6"><a href=""></a>                              <span class="st">"full_time_tenured"</span> <span class="ot">=</span> <span class="st">"Full Time Tenured"</span>,</span>
<span id="cb17-7"><a href=""></a>                              <span class="st">"grad_student"</span> <span class="ot">=</span> <span class="st">"Grad Student"</span>,</span>
<span id="cb17-8"><a href=""></a>                              <span class="st">"part_time"</span> <span class="ot">=</span> <span class="st">"Part Time"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="editing-axes-3" class="slide level2 smaller">
<h2>Editing axes</h2>
<hr>
<p>We can also use <code>scale_*_*</code> to edit the labels in the legend.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href=""></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_files/figure-revealjs/unnamed-chunk-30-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="theme-allows-us-to-edit-data-ink-1" class="slide level2 smaller">
<h2><code>theme()</code> allows us to edit data ink</h2>
<hr>
<ul>
<li>Now I’ll remove the legend</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb19" data-code-line-numbers="|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href=""></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> </span>
<span id="cb19-2"><a href=""></a>  <span class="fu">theme</span>(</span>
<span id="cb19-3"><a href=""></a>    <span class="at">legend.position =</span> <span class="st">"none"</span> <span class="co">#odd one - take note</span></span>
<span id="cb19-4"><a href=""></a>  )</span>
<span id="cb19-5"><a href=""></a></span>
<span id="cb19-6"><a href=""></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_files/figure-revealjs/unnamed-chunk-31-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section></section>
<section>
<section id="text-geom_s" class="title-slide slide level1 center">
<h1>Text <code>geom_*</code>s</h1>

</section>
<section id="recap-geoms-in-ggplot2-anatomy" class="slide level2 smaller">
<h2>Recap: Geoms in {ggplot2} anatomy</h2>
<hr>

<img data-src="slides_images/geoms.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="what-do-geoms-allow-us-to-do" class="slide level2">
<h2>What do geoms allow us to do?</h2>
<hr>
<ul>
<li><strong>geoms</strong>: Geometric objects like points, lines, bars</li>
<li>And also, text!</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href=""></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(wt, mpg, <span class="at">label =</span> <span class="fu">rownames</span>(mtcars))) <span class="sc">+</span> </span>
<span id="cb20-2"><a href=""></a>  <span class="fu">geom_text</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_files/figure-revealjs/unnamed-chunk-32-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="text-geoms" class="slide level2 smaller">
<h2>Text geoms</h2>
<hr>
<p>Text geoms are useful for labeling plots. They can be used by themselves as scatterplots or in combination with other geoms, for example, for labeling points or for annotating the height of bars.</p>
<ul>
<li><code>geom_text()</code> adds text to the plot</li>
<li><code>geom_label()</code> draws a rectangle behind the text</li>
<li><code>annotate()</code> adds labels at specified points</li>
</ul>

<aside><div>
<p>{ggplot2} text documentation: <a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="uri">https://ggplot2.tidyverse.org/reference/geom_text.html</a></p>
</div></aside></section>
<section id="geom_text" class="slide level2 smaller">
<h2><code>geom_text()</code></h2>
<hr>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb21" data-code-line-numbers="|1|2|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href=""></a>p <span class="sc">+</span> <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(<span class="at">scale=</span><span class="dv">1</span>)(proportion)),</span>
<span id="cb21-2"><a href=""></a>              <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>,</span>
<span id="cb21-3"><a href=""></a>              <span class="at">size =</span> <span class="fl">3.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_files/figure-revealjs/unnamed-chunk-33-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="geom_label" class="slide level2 smaller">
<h2><code>geom_label()</code></h2>
<hr>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href=""></a>p <span class="sc">+</span> <span class="fu">geom_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(<span class="at">scales=</span><span class="dv">1</span>)(proportion)),</span>
<span id="cb22-2"><a href=""></a>               <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>,</span>
<span id="cb22-3"><a href=""></a>               <span class="at">size =</span> <span class="fl">3.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_files/figure-revealjs/unnamed-chunk-34-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="annotate" class="slide level2 smaller">
<h2><code>annotate()</code></h2>
<hr>
<p>To add labels at specified points, use <code>annotate()</code> with <code>annotate(geom = "text", ...)</code> or <code>annotate(geom = "label", ...)</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb23" data-code-line-numbers="|2-10|3|5-6|7-8|9|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href=""></a>p <span class="sc">+</span></span>
<span id="cb23-2"><a href=""></a>  <span class="fu">annotate</span>(</span>
<span id="cb23-3"><a href=""></a>    <span class="at">geom =</span> <span class="st">"text"</span>,</span>
<span id="cb23-4"><a href=""></a>    <span class="at">label =</span> <span class="st">"Part-time faculty percentage has increased</span><span class="sc">\n</span><span class="st">from x% in 1975 to x% in 2011."</span>,</span>
<span id="cb23-5"><a href=""></a>    <span class="at">x =</span> <span class="fl">5.5</span>,</span>
<span id="cb23-6"><a href=""></a>    <span class="at">y =</span> <span class="dv">60</span>,</span>
<span id="cb23-7"><a href=""></a>    <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb23-8"><a href=""></a>    <span class="at">colour =</span> <span class="st">"#C6473E"</span>,</span>
<span id="cb23-9"><a href=""></a>    <span class="at">hjust =</span> <span class="st">"right"</span> <span class="co">#Can give number or specify left, right, center</span></span>
<span id="cb23-10"><a href=""></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>This is when you want to hard code the numbers (e.g., x%) - not recommended</li>
</ul>
</section>
<section id="annotate-1" class="slide level2 smaller">
<h2><code>annotate()</code></h2>
<hr>
<p>What if instead of hard coding our numbers, we calculate it from our data?</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href=""></a>pt_pct_1975 <span class="ot">&lt;-</span> </span>
<span id="cb24-2"><a href=""></a>  staff_long <span class="sc">|&gt;</span> </span>
<span id="cb24-3"><a href=""></a>  <span class="fu">filter</span>(position <span class="sc">==</span> <span class="st">"part_time"</span>, year <span class="sc">==</span> <span class="st">"1975"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb24-4"><a href=""></a>  <span class="fu">pull</span>(proportion)</span>
<span id="cb24-5"><a href=""></a></span>
<span id="cb24-6"><a href=""></a>pt_pct_1975</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 24</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href=""></a>pt_pct_2011 <span class="ot">&lt;-</span> </span>
<span id="cb26-2"><a href=""></a>  staff_long <span class="sc">|&gt;</span> </span>
<span id="cb26-3"><a href=""></a>  <span class="fu">filter</span>(position <span class="sc">==</span> <span class="st">"part_time"</span>, year <span class="sc">==</span> <span class="st">"2011"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-4"><a href=""></a>  <span class="fu">pull</span>(proportion)</span>
<span id="cb26-5"><a href=""></a></span>
<span id="cb26-6"><a href=""></a>pt_pct_2011</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 41.3</code></pre>
</div>
</div>
</section>
<section id="annotate-2" class="slide level2">
<h2><code class="smaller">annotate()</code></h2>
<hr>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb28" data-code-line-numbers="|6|7|8|9|10|11|12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href=""></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">label_percent</span>(<span class="at">scale=</span><span class="dv">1</span>)(proportion)),</span>
<span id="cb28-2"><a href=""></a>                <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>,</span>
<span id="cb28-3"><a href=""></a>                <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span></span>
<span id="cb28-4"><a href=""></a>  <span class="fu">annotate</span>(</span>
<span id="cb28-5"><a href=""></a>    <span class="at">geom =</span> <span class="st">"text"</span>,</span>
<span id="cb28-6"><a href=""></a>    <span class="at">label =</span> <span class="fu">paste0</span>(</span>
<span id="cb28-7"><a href=""></a>      <span class="st">"Part-time faculty percentage has increased</span><span class="sc">\n</span><span class="st">from "</span>,</span>
<span id="cb28-8"><a href=""></a>      scales<span class="sc">::</span><span class="fu">label_percent</span>(<span class="at">scale=</span><span class="dv">1</span>)(pt_pct_1975),</span>
<span id="cb28-9"><a href=""></a>      <span class="st">" in 1975 to "</span>,</span>
<span id="cb28-10"><a href=""></a>      scales<span class="sc">::</span><span class="fu">label_percent</span>(<span class="at">scale=</span><span class="dv">1</span>)(pt_pct_2011),</span>
<span id="cb28-11"><a href=""></a>      <span class="st">" in 2011."</span></span>
<span id="cb28-12"><a href=""></a>    ),</span>
<span id="cb28-13"><a href=""></a>    <span class="at">x =</span> <span class="fl">5.5</span>,</span>
<span id="cb28-14"><a href=""></a>    <span class="at">y =</span> <span class="dv">60</span>,</span>
<span id="cb28-15"><a href=""></a>    <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb28-16"><a href=""></a>    <span class="at">colour =</span> <span class="st">"#C6473E"</span>,</span>
<span id="cb28-17"><a href=""></a>    <span class="at">hjust =</span> <span class="st">"right"</span></span>
<span id="cb28-18"><a href=""></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="annotate-3" class="slide level2">
<h2><code>annotate()</code></h2>
<hr>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href=""></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_files/figure-revealjs/unnamed-chunk-38-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section></section>
<section>
<section id="ggtext" class="title-slide slide level1 center">
<h1>{ggtext}</h1>

</section>
<section id="ggtext-1" class="slide level2 smaller">
<h2>{ggtext}</h2>
<hr>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb30" data-code-line-numbers="|3-8|11-12,16|13,15|14|18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href=""></a><span class="fu">library</span>(ggtext)</span>
<span id="cb30-2"><a href=""></a></span>
<span id="cb30-3"><a href=""></a>prop_pt <span class="ot">&lt;-</span></span>
<span id="cb30-4"><a href=""></a>  staff_long <span class="sc">|&gt;</span></span>
<span id="cb30-5"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> proportion <span class="sc">/</span> <span class="dv">100</span>) <span class="sc">|&gt;</span></span>
<span id="cb30-6"><a href=""></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2011</span>,</span>
<span id="cb30-7"><a href=""></a>         position <span class="sc">==</span> <span class="st">"part_time"</span>) <span class="sc">|&gt;</span></span>
<span id="cb30-8"><a href=""></a>  <span class="fu">pull</span>(prop)</span>
<span id="cb30-9"><a href=""></a></span>
<span id="cb30-10"><a href=""></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span></span>
<span id="cb30-11"><a href=""></a>  <span class="fu">labs</span>(</span>
<span id="cb30-12"><a href=""></a>    <span class="at">subtitle =</span> <span class="fu">paste0</span>(</span>
<span id="cb30-13"><a href=""></a>      <span class="st">"Part-timers made up &lt;b&gt;&lt;span style = 'color:#C6473E;'&gt;"</span>,</span>
<span id="cb30-14"><a href=""></a>      scales<span class="sc">::</span><span class="fu">label_percent</span>()(prop_pt),</span>
<span id="cb30-15"><a href=""></a>      <span class="st">"&lt;/span&gt;&lt;/b&gt; of faculty in 2011"</span></span>
<span id="cb30-16"><a href=""></a>    )</span>
<span id="cb30-17"><a href=""></a>  ) <span class="sc">+</span></span>
<span id="cb30-18"><a href=""></a>  <span class="fu">theme</span>(<span class="at">plot.subtitle =</span> ggtext<span class="sc">::</span><span class="fu">element_markdown</span>()) <span class="co">#Makes the html work!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ggtext-2" class="slide level2">
<h2>{ggtext}</h2>
<hr>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href=""></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_files/figure-revealjs/unnamed-chunk-40-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="ggtext-3" class="slide level2">
<h2>{ggtext}</h2>
<hr>
<ul>
<li>Can also use {ggtext} to remove need for legend <img data-src="slides_images//MarginalEffectsofLocaleonAPSTEMSuccessRuralDisag.png"></li>
</ul>
</section>
<section id="ggtext-4" class="slide level2 smaller">
<h2>{ggtext}</h2>
<hr>
<div class="sourceCode" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href=""></a><span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Marginal Effects"</span>, <span class="at">title =</span> <span class="st">"Marginal Effects of </span></span>
<span id="cb32-2"><a href=""></a><span class="st">&lt;b&gt;&lt;span style = 'color: #D8A419;'&gt;City&lt;/span&gt;&lt;/b&gt;,</span></span>
<span id="cb32-3"><a href=""></a><span class="st">&lt;b&gt;&lt;span style = 'color: #7B8400;'&gt;Town&lt;/span&gt;&lt;/b&gt;,</span></span>
<span id="cb32-4"><a href=""></a><span class="st">&lt;b&gt;&lt;span style = 'color: #C61A72;'&gt;Rural:Fringe&lt;/span&gt;&lt;/b&gt;,</span></span>
<span id="cb32-5"><a href=""></a><span class="st">&lt;b&gt;&lt;span style = 'color: #D65E9B;'&gt;Rural:Distant&lt;/span&gt;&lt;/b&gt;, &amp; </span></span>
<span id="cb32-6"><a href=""></a><span class="st">&lt;b&gt;&lt;span style = 'color: #EDBAD4;'&gt;Rural:Remote&lt;/span&gt;&lt;/b&gt;</span></span>
<span id="cb32-7"><a href=""></a><span class="st">Locale on AP® STEM Success&lt;br&gt;&lt;i&gt;Comparison: Suburb&lt;/i&gt;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<img data-src="slides_images/MarginalEffectsofLocaleonAPSTEMSuccessRuralDisag.png" class="r-stretch"></section></section>
<section>
<section id="fonts" class="title-slide slide level1 center">
<h1>Fonts</h1>

</section>
<section id="family-aesthetic" class="slide level2 smaller">
<h2><code>family</code> aesthetic</h2>
<hr>
<ul>
<li>The <code>family</code> aesthetic provides the name of a font. This aesthetic does allow you to use the name of a system font, but some care is required.</li>
<li>There are only three fonts that are guaranteed to work everywhere: “sans” (the default), “serif”, or “mono”.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb33" data-code-line-numbers="|2-3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href=""></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span></span>
<span id="cb33-2"><a href=""></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>,</span>
<span id="cb33-3"><a href=""></a>                                  <span class="at">family =</span> <span class="st">"serif"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="family-aesthetic-1" class="slide level2 smaller">
<h2><code>family</code> aesthetic</h2>
<hr>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href=""></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_files/figure-revealjs/unnamed-chunk-42-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="using-other-fonts" class="slide level2 smaller">
<h2>Using other fonts</h2>
<hr>
<p>Text drawing is handled differently by each graphics device (GD):</p>
<ul>
<li><code>windows()</code> (for Windows)</li>
<li><code>quartz()</code> (for Macs)</li>
<li><code>x11()</code> (mostly for Linux)</li>
<li><code>RStudioGD()</code> within RStudio</li>
</ul>
<p>The devices do not specify fonts in the same way, so if you want a font to work everywhere you need to configure the devices in different ways.</p>
</section>
<section id="using-other-fonts-1" class="slide level2 smaller">
<h2>Using other fonts</h2>
<hr>
<p>Two packages simplify fonts a bit:</p>
<ul>
<li><strong>{showtext}</strong>, <a href="https://github.com/yixuan/showtext">https://github.com/yixuan/showtext</a>, by Yixuan Qiu, makes GD-independent plots by rendering all text as polygons</li>
<li><strong>{extrafont}</strong>, <a href="https://github.com/fbertran/extrafont">https://github.com/fbertran/extrafont</a>, by Winston Chang, converts fonts to a standard format that all devices can use</li>
</ul>
</section>
<section id="using-google-fonts-with-showtext" class="slide level2 smaller">
<h2>Using Google fonts with {showtext}</h2>
<hr>
<ul>
<li><code>font_add_google(name, family)</code> adds a font
<ul>
<li><code>name</code> is the name of the font searched in <a href="https://fonts.google.com/">Google Fonts</a></li>
<li><code>family</code> is the name you assign</li>
</ul></li>
<li>The <code>showtext_auto()</code> function tells R to render text using {showtext}</li>
</ul>
</section>
<section id="using-google-fonts-with-showtext-1" class="slide level2 smaller">
<h2>Using Google fonts with {showtext}</h2>
<hr>
<p>Changing <code>text</code> edits the font family for the plot fonts.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb35" data-code-line-numbers="|3|5|8-9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href=""></a><span class="fu">library</span>(showtext)</span>
<span id="cb35-2"><a href=""></a></span>
<span id="cb35-3"><a href=""></a><span class="fu">font_add_google</span>(<span class="at">name =</span> <span class="st">"Open Sans"</span>, <span class="at">family =</span> <span class="st">"open-sans"</span>)</span>
<span id="cb35-4"><a href=""></a></span>
<span id="cb35-5"><a href=""></a><span class="fu">showtext_auto</span>() <span class="co">#necessary for it to work</span></span>
<span id="cb35-6"><a href=""></a></span>
<span id="cb35-7"><a href=""></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span></span>
<span id="cb35-8"><a href=""></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>,</span>
<span id="cb35-9"><a href=""></a>                            <span class="at">family =</span> <span class="st">"open-sans"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>You may need to install additional packages for <code>font_add_google()</code>. On Windows, be prepared to install {jsonlite} and {curl}.</p>
</div>
</div>
</div>
</section>
<section id="using-google-fonts-with-showtext-2" class="slide level2 smaller">
<h2>Using Google fonts with {showtext}</h2>
<hr>
<ul>
<li>Why didn’t the title change? Everything else worked…</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href=""></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_files/figure-revealjs/unnamed-chunk-44-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="using-google-fonts-with-showtext-3" class="slide level2 smaller">
<h2>Using Google fonts with {showtext}</h2>
<hr>
<p>You can specify fonts for different plot elements, as well.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb37" data-code-line-numbers="|1|4-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href=""></a><span class="fu">font_add_google</span>(<span class="at">name =</span> <span class="st">"Schoolbell"</span>, <span class="at">family =</span> <span class="st">"bell"</span>)</span>
<span id="cb37-2"><a href=""></a></span>
<span id="cb37-3"><a href=""></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span></span>
<span id="cb37-4"><a href=""></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>,</span>
<span id="cb37-5"><a href=""></a>                                  <span class="at">family =</span> <span class="st">"bell"</span>))</span>
<span id="cb37-6"><a href=""></a><span class="co"># Note I could have specified "open-sans" here to fix the earlier issue.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="using-google-fonts-with-showtext-4" class="slide level2 smaller">
<h2>Using Google fonts with {showtext}</h2>
<hr>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href=""></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_files/figure-revealjs/unnamed-chunk-46-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="using-custom-fonts-with-showtext" class="slide level2 smaller">
<h2>Using custom fonts with {showtext}</h2>
<hr>
<p><code>font_add()</code> adds a font file like <code>.ttf</code></p>
<ul>
<li><code>family</code> is the family name of the font</li>
<li><code>regular</code> is the font file path</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb39" data-code-line-numbers="|1-2|5-6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href=""></a><span class="fu">font_add</span>(<span class="at">family =</span> <span class="st">"Asenine"</span>,</span>
<span id="cb39-2"><a href=""></a>         <span class="at">regular =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"week-9"</span>, <span class="st">"ASENINE_.ttf"</span>))</span>
<span id="cb39-3"><a href=""></a></span>
<span id="cb39-4"><a href=""></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span></span>
<span id="cb39-5"><a href=""></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>,</span>
<span id="cb39-6"><a href=""></a>                                     <span class="at">family =</span> <span class="st">"Asenine"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="using-custom-fonts-with-showtext-1" class="slide level2 smaller">
<h2>Using custom fonts with {showtext}</h2>
<hr>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href=""></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_files/figure-revealjs/unnamed-chunk-48-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="other-helpful-packages-for-text" class="slide level2 smaller">
<h2>Other helpful packages for text</h2>
<hr>
<ul>
<li>{ggrepel} - repel overlapping text labels</li>
<li>{ggforce} - extends {ggplot2} in various ways</li>
<li>{gghighlight} - direct labeling in {ggplot2}</li>
<li>{ggfittext} - fit text into boxes</li>
<li>{directlabels} - puts labels close to data</li>
</ul>
</section>
<section id="accessibility" class="slide level2 smaller">
<h2>Accessibility</h2>
<hr>
<ul>
<li>Sufficient labels</li>
<li>Do not rely on color alone</li>
<li>Label significant parts of the graph</li>
<li>Use labels and legends that clearly mark and distinguish the data points</li>
</ul>
</section></section>
<section>
<section id="break" class="title-slide slide level1 center">
<h1>BREAK</h1>

</section>
<section id="collaborative-practice" class="slide level2 smaller">
<h2>Collaborative Practice</h2>
<hr>
<ul>
<li>You will do Steps 3-5.
<ul>
<li>1,2, &amp; 6 have been done for you.</li>
</ul></li>
<li>Launch into breakout rooms.</li>
<li>Cameras off: 3-5 min to review task</li>
<li>Cameras on: collaborative task work</li>
<li>Individual option</li>
</ul>
</section></section>
<section>
<section id="mini-project-2" class="title-slide slide level1 center">
<h1><a href="https://utk.instructure.com/courses/239375/assignments/2326753">Mini-Project #2</a></h1>

</section>
<section id="looking-ahead" class="slide level2">
<h2>Looking Ahead</h2>
<hr>
<ul>
<li>Reading:
<ul>
<li>Chang (2024), Ch. 7</li>
<li>Chang (2024), Ch. 11</li>
<li>R Coder (2024)</li>
</ul></li>
<li><strong>Assignment:</strong> Begin work on mini-project #2</li>
<li><strong>Assignment:</strong> Individually complete collaborative practice if not finished</li>
</ul>
<!-- ## Next Semester + Beyond
<hr>
- If you aren't registered already, please consider the [Educational Data Science Graduate Certificate](https://volsonline.utk.edu/programs-degrees/educational-data-science-gc/#courses).
- This class completes 25% of what you need.
- The capstone can be shaped around your interests/research. -->

</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p>UTK Educational Data Science</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="slides_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="slides_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="slides_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="slides_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="slides_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="slides_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="slides_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="slides_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>